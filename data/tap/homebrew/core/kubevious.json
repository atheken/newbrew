{
  "name": "kubevious",
  "full_name": "kubevious",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Detects and prevents Kubernetes misconfigurations and violations",
  "license": "Apache-2.0",
  "homepage": "https://github.com/kubevious/cli",
  "versions": {
    "stable": "1.0.58",
    "head": null,
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://registry.npmjs.org/kubevious/-/kubevious-1.0.58.tgz",
      "tag": null,
      "revision": null,
      "checksum": "a2d403375f2937edc3e326e9d71f0772dcdba71d2986c9242ff191792e6b68f3"
    }
  },
  "revision": 0,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 1,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77",
          "sha256": "d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77"
        },
        "arm64_monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77",
          "sha256": "d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77"
        },
        "arm64_big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77",
          "sha256": "d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77"
        },
        "ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c",
          "sha256": "c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c"
        },
        "monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c",
          "sha256": "c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c"
        },
        "big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c",
          "sha256": "c06ee99ad24dbf8bb1bbfda8e031fd6f378416df5605839049e894903bb3864c"
        },
        "x86_64_linux": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/kubevious/blobs/sha256:d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77",
          "sha256": "d5b735b8ac7cc099a47f32e103624b2f7b4cf38b549117827f3aa83dc867cd77"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [],
  "dependencies": [
    "node"
  ],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": false,
  "disable_date": null,
  "disable_reason": null,
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "4eeae4ea50839e967536ba646d5e0ed6fbcbad7f",
  "ruby_source_path": "Formula/kubevious.rb",
  "ruby_source_checksum": {
    "sha256": "a7048a29f0a8c1c1c7f899f0a38f77b6b54c3525c07162164dabb983c184a087"
  },
  "date_added": "2022-12-02T18:58:34+00:00",
  "readme": "[![Release](https://img.shields.io/github/v/release/kubevious/cli?label=version&color=2ec4b6)](https://github.com/kubevious/cli/releases) [![Issues](https://img.shields.io/github/issues/kubevious/cli?color=red)](https://github.com/kubevious/cli/issues) [![Slack](https://img.shields.io/badge/chat-on%20slack-7b2cbf)](https://kubevious.io/slack) [![Twitter](https://img.shields.io/twitter/url?color=0096c7&logoColor=white&label=Follow&logo=twitter&style=flat&url=https%3A%2F%2Ftwitter.com%2Fkubevious)](https://twitter.com/kubevious) [![Codefresh build status]( https://g.codefresh.io/api/badges/pipeline/kubevious/OSS%2Fcli?type=cf-1)]( https://g.codefresh.io/public/accounts/kubevious/pipelines/new/6351c9e6063ec83876b195be) [![License](https://img.shields.io/badge/License-Apache%202.0-cb997e.svg)](https://opensource.org/licenses/Apache-2.0) ![](https://hit.yhype.me/github/profile?user_id=59004473)\n\n\n# Kubevious CLI\n**Kubevious CLI** is an app-centric assurance and validation tool for Kubernetes. It helps modern teams rapidly release cloud-native applications without disasters, costly outages, and compliance violations by validating changes before they even reach the clusters. Kubevious CLI detects and prevents errors(*typos, misconfigurations, conflicts, inconsistencies*) and violations of best practices. Our secret sauce is based on the ability to validate across multiple manifests, regardless if they are already in the K8s clusters or are yet to be applied. Kubevious CLI can be used as a standalone tool during the active development of YAML manifests and can also be easily integrated into GitOps processes and CI/CD pipelines to validate changes toward live Kubernetes clusters. Kubevious CLI was created based on the experience and the lessons learned from the [Kubevious Dashboard](https://github.com/kubevious/kubevious#kubevious-dashboard) project and uses the evolution of its rules framework.\n\n- [✨ Key Capabilities](#-key-capabilities)\n- [📥 Installation](#-installation)\n  - [👇 NPM Package](#-option-1-npm-package)\n  - [👇 Homebrew](#-option-2-homebrew)\n  - [👇 Precompiled Binaries](#-option-3-precompiled-binaries)\n  - [👇 In Docker Container](#-option-4-in-a-docker-container)\n  - [👇 CI/CD Integration](#-option-5-cicd-integration)\n- [🃏 Usage and Use Cases](#-usage-and-use-cases)\n  - [💂 Guard - Comprehensive Cross-Manifest Semantical Validation](#-guard---comprehensive-cross-manifest-semantical-validation)\n  - [✅ Lint - Validation of YAML syntax, K8s schema, and CRD/CR](#-lint---validation-of-yaml-syntax-k8s-schema-and-crdcr)\n  - [☸️ Validating Helm Charts](#%EF%B8%8F-validating-helm-charts)\n  - [☸️ Validating Kustomize Templates](#%EF%B8%8F-validating-kustomize-templates)\n  - [🩻 Troubleshoot Live Cluster](#-troubleshoot-live-cluster)\n  - [🕹 Input from a Variety of Sources](#-running-inside-a-container)\n  - [🪝 Git Pre-Commit Hook](#-git-pre-commit-hook)\n  - [📦 Running Inside a Container](#-running-inside-a-container)\n- [✍️ Writing Custom Rules](#%EF%B8%8F-writing-custom-rules)\n\n![Kubevious CLI Video](https://raw.githubusercontent.com/kubevious/media/master/cli/intro/demo_light.gif)\n\n## ✨ Key Capabilities\n\n### 🔘 Best Practices Validation\n\n- Community-driven [Rules Library](https://github.com/kubevious/rules-library).\n  - Validates K8s native manifests and popular projects uses such as CertManager, Traefik, Kong, Istio, etc.\n- Your own custom validation rules:\n  - from the file system\n  - from live Kubernetes cluster\n  - Scoped at the cluster level or within the namespace\n- Learn more about writing your own validation rules using [Kubik](https://github.com/kubevious/kubik).\n\n### 🔘 Manifest Validation\n- Validate YAML syntax\n- Validate manifest API correctness\n- Validate towards a custom K8s version, or live K8s cluster version\n\n### 🔘 CRDs and Custom Resources\n- Validate CRD definitions\n- Validate Custom Resources against CRDs in the file system\n- Validate Custom Resources against CRDs in the live K8s cluster\n\n### 🔘 Validation Sources\n\nKubevous CLI validates manifests from a variety of sources:\n\n- files & directories\n- search patterns\n- web URLs\n- stdin pipe - used to validate package managers such as Helm, Kustomize, Ytt, etc.\n- native support with Helm & Kustomize\n- live manifests already present in the Kubernetes cluster\n- combination of all of the above\n\n\n## 📥 Installation\n\n### 👇 Option 1: (NPM Package)\nIf you have Node.js v14 or higher:\n```sh\n$ npm install -g kubevious\n```\n\n```sh\n$ kubevious guard samples/\n```\n\n### 👇 Option 2: (Homebrew)\n```sh\n$ brew install kubevious\n```\n\n```sh\n$ kubevious guard samples/\n```\n\n### 👇 Option 3: (Precompiled Binaries)\nAll-in-one executables for Linux, Alpine, Mac OS, and Windows, including x64 and arm64 architectures.\nDownload from the [GitHub Releases](https://github.com/kubevious/cli/releases) or install using:\n\n```sh\ncurl https://get.kubevious.io/cli.sh | bash\n```\nThe script above would download the binary to */usr/local/bin/*\n\n\nSome environments have the */usr/local/bin/* path owned by *root*, so it may require running like this:\n```sh\ncurl https://get.kubevious.io/cli.sh -o install-kubevious.sh && chmod +x install-kubevious.sh && sudo ./install-kubevious.sh && rm install-kubevious.sh\n```\n\n### 👇 Option 4: (In a Docker container)\nRun in a container:\n```sh\n$ docker run --rm kubevious/cli --help\n```\n\nValidate the entire manifests directory:\n```sh\n$ docker run --rm -v ${PWD}/samples:/src kubevious/cli guard /src\n```\n\nValidate manifests from pipe stream:\n```sh\n$ cat manifests.yaml | docker run --rm -i kubevious/cli guard --stream\n```\n### 👇 Option 5: (CI/CD Integration)\nKubevious CLI Integrates with modern CI/CD platforms. Learn more [here](/docs/cicd).\n\n## 🃏 Usage and Use Cases\nTry it yourself:\n\n```sh\n$ git clone https://github.com/kubevious/cli.git kubevious-cli.git\n$ cd kubevious-cli.git/samples\n```\n\n### 💂 Guard - Comprehensive Cross-Manifest Semantical Validation\n\nThe **guard** command performs **linting** of YAML syntax & API correctness and checks for violations of best-practices rules. \n\n#### 🔘 Validate single K8s manifest\n\nWill complain about not being able to find the corresponding application matching the label selector:\n\n```sh\n$ kubevious guard pepsi/service.yaml\n\n📜 [ClusterRule] service-selector-ref\n   🌐 WEB: https://raw.githubusercontent.com/kubevious/rules-library/master/k8s/service/service-selector-ref.yaml\n   ❌ Rule failed\n   Violations:\n      ❌ Namespace: pepsi, API: v1, Kind: Service, Name: emailservice\n         📄 FILE: pepsi/service.yaml\n         🔴 Could not find Applications for Service\n```\n\n#### 🔘 Validate multiple K8s manifests\n\nPassing the Deployment along with the Service would help the validation pass:\n\n```sh\n$ kubevious guard pepsi/service.yaml pepsi/deployment.yaml\n\n📜 [ClusterRule] service-selector-ref\n   🌐 WEB: https://raw.githubusercontent.com/kubevious/rules-library/master/k8s/service/service-selector-ref.yaml\n   ✅ Rule passed\n   Passed:\n      ✅ Namespace: pepsi, API: v1, Kind: Service, Name: emailservice\n         📄 FILE: pepsi/service.yaml\n```\n\n#### 🔘 Validate manifests toward live K8s cluster\n\nAlternatively, if the dependent Deployment is already present in the K8s cluster, the Service can be validated against the live K8s cluster:\n\n```sh\n$ kubevious guard pepsi/service.yaml --live-k8s\n\n📜 [ClusterRule] service-selector-ref\n   🌐 WEB: https://raw.githubusercontent.com/kubevious/rules-library/master/k8s/service/service-selector-ref.yaml\n   ✅ Rule passed\n   Passed:\n      ✅ Namespace: pepsi, API: v1, Kind: Service, Name: emailservice\n         📄 FILE: pepsi/service.yaml\n```\n\nAlthough changing pod labels in *pepsi/deployment.yaml* would break the Service label selector, even though the correct Deployment is already in the K8s cluster:\n\n```yaml\nspec:\n  selector:\n    matchLabels:\n      app: emailserviceX      # label is inconsistent with Service label selector\n  template:\n    metadata:\n      labels:\n        app: emailserviceX    # label is inconsistent with Service label selector\n```\n\n```sh\n$ kubevious guard pepsi/service.yaml pepsi/deployment.yaml --live-k8s\n\n📜 [ClusterRule] service-selector-ref\n   🌐 WEB: https://raw.githubusercontent.com/kubevious/rules-library/master/k8s/service/service-selector-ref.yaml\n   ❌ Rule failed\n   Violations:\n      ❌ Namespace: pepsi, API: v1, Kind: Service, Name: emailservice\n         📄 FILE: pepsi/service.yaml\n         🔴 Could not find Applications for Service\n```\n\n### ✅ Lint - Validation of YAML syntax, K8s schema, and CRD/CR\n\nThe **guard** command performs **linting** underneath, so the guard users don't need to run lint separately.\n\n#### 🔘 Checking for API correctness:\n\n```sh\n$ kubevious lint invalid-service-1.yaml\nℹ️  Linting against Kubernetes Version: 1.25.2\n\n❌ 📄 FILE: invalid-service-1.yaml\n   ❌ API: v1, Kind: Service, Name: db\n      ❌ Required property \"port\" missing under \"/spec/ports/0\"\n```\n\n#### 🔘 Linting against particular K8s version\n```sh\n$ kubevious lint hpa.yaml --k8s-version 1.21\nℹ️  Linting against Kubernetes Version: 1.21.14\n\n❌ 📄 FILE: hpa.yaml\n   ❌ Namespace: ordering, API: autoscaling/v2, Kind: HorizontalPodAutoscaler, Name: orderservice\n      🔴 Unknown API Resource. apiVersion: autoscaling/v2, kind: HorizontalPodAutoscaler.\n```\n\n```sh\n$ kubevious lint hpa.yaml --k8s-version 1.23\nℹ️  Linting against Kubernetes Version: 1.23.12\n\n✅ 📄 FILE: hpa.yaml\n   ✅ Namespace: ordering, API: autoscaling/v2, Kind: HorizontalPodAutoscaler, Name: orderservice\n```\n\n#### 🔘 Ignoring unknown resources\n\n```sh\n$ kubevious lint istio-gateway.yaml --ignore-unknown\n\n⚠️  📄 FILE: istio-gateway.yaml\n   ⚠️  Namespace: hipster, API: networking.istio.io/v1alpha3, Kind: Gateway, Name: frontend-gateway\n      ⚠️  Unknown API Resource. apiVersion: networking.istio.io/v1alpha3, kind: Gateway.\n\n✅ Lint Succeeded.\n```\n\n#### 🔘 Validate Against Live K8s Cluster with CRDs\n```sh\n$ kubevious lint istio-gateway.yaml --live-k8s\nℹ️  Linting against Kubernetes Version: v1.24.0\n\n✅ 📄 FILE: data/istio-gateway.yaml\n   ✅ Namespace: hipster, API: networking.istio.io/v1alpha3, Kind: Gateway, Name: frontend-gateway\n```\n\n#### 🔘 Validate Custom Resource and Corresponding CRD\n```sh\n$ kubevious lint cr-good.yaml crd.yaml\nℹ️  Linting against Kubernetes Version: 1.25.2\n\n✅ 📄 FILE: cr-good.yaml\n   ✅ Namespace: coke, API: example.com/v1alpha1, Kind: MyPlatform, Name: test-dotnet-app\n\n✅ 📄 FILE: crd.yaml\n   ✅ API: apiextensions.k8s.io/v1, Kind: CustomResourceDefinition, Name: myplatforms.example.com\n```\n\n### ☸️ Validating Helm Charts\nKubevious CLI executes the Helm template whenever a Helm chart is discovered.\n```sh\n$ kubevious guard path-to-helm-chart-directory\n```\n\nIt is also possible to pass remote Helm repos to validate\n```sh\n$ helm repo add traefik https://helm.traefik.io/traefik\n$ kubevious guard @helm@traefik/traefik\n```\n\nUse **values** to specify Helm overrides file and inline values\n```sh\n$ kubevious guard @helm@traefik/traefik@values=overrides/prod.yaml@set=persistence.enabled=true\n```\n\nSupported Helm parameters:\n| Key          | Description                          |\n| ------------ | ------------------------------------ |\n| values       | Path to Helm overrides path          |\n| namespace    | The namespace                        |\n| release-name | The release name                     |\n| crds         | Possible values: \"include\" or \"skip\" |\n| set          | Inline value overrides \"key=value\"   |\n\n### ☸️ Validating Kustomize Templates\n\nKubevious CLI executes Kustomize build as soon as it discovers kustomization.yaml files. Every files within that directory will be ignored. \n\n```sh\n$ kubevious guard path-to-kustomize-directory-or-file\n```\n\n### 🩻 Troubleshoot Live Cluster\n\nThe tool can be used to troubleshoot existing clusters and manifests:\n```sh\nkubevious guard --live-k8s --include-remote-targets --namespace default\n```\n\n### 🕹 Input from a Variety of Sources\n\n#### 🔘 Multiple Directories\n\n```sh\n$ kubevious guard sveltos/ pepsi/\n```\n\n#### 🔘 Stream Input\n\nPrimary usage is to validate template outputs such as Helm Charts, Kuztomize, Carvel, etc.\n\n```sh\n$ ytt -f my-app/ | kubevious guard --stream\n\n❌ ♒ STREAM: stream\n   ❌ Namespace: default, API: traefik.containo.us/v1alpha1, Kind: IngressRoute, Name: release-name-traefik-dashboard\n      🔴 Unknown API Resource. apiVersion: traefik.containo.us/v1alpha1, kind: IngressRoute.\n```\n\nAlso can pass additional manifests, such as CRDs, Rules, etc., for validation along with the steam input.\n\n```sh\n$ ytt -f my-app/ | kubevious guard --stream https://raw.githubusercontent.com/traefik/traefik-helm-chart/master/traefik/crds/ingressroute.yaml\n\n✅ Guard Succeeded.\n```\n\n### 📦 Running Inside a Container\n\n#### 🔘 Validate the Entire Directory\n\nMount a local directory to */src* in the container. The rest of the arguments are the same.\n\n```sh\n$ docker run --rm -v ${PWD}/pepsi:/src kubevious/cli guard /src\n❌ Guard Failed\n```\n\n#### 🔘 Validate Files\n\nThe directory must be mounted to */src* in the container to validate individual files. Can pass file names in the command line arguments.\n\n```sh\n$ docker run --rm -v ${PWD}/pepsi:/src kubevious/cli guard /src/service.yaml /src/deployment.yaml\n✅ Guard Succeeded.\n```\n\n#### 🔘 Stream Input\n\nDon't forget the **-i** argument.\n\n```sh\n$ helm template traefik/traefik | docker run --rm -i kubevious/cli guard --stream\n\n❌ ♒ STREAM: stream\n   ❌ Namespace: default, API: traefik.containo.us/v1alpha1, Kind: IngressRoute, Name: release-name-traefik-dashboard\n      🔴 Unknown API Resource. apiVersion: traefik.containo.us/v1alpha1, kind: IngressRoute.\n```\n\nPassing CRDs as input would fix the issue:\n\n```sh\n$ helm template traefik/traefik | docker run --rm -i kubevious/cli guard --stream https://raw.githubusercontent.com/traefik/traefik-helm-chart/master/traefik/crds/ingressroute.yaml\n\n✅ Guard Succeeded.\n```\n\n### 🪝 Git Pre-Commit Hook\n\nYou can get **guard** and **lint** commands to execute whenever changes to the GitOps repo are made. Kubevious uses the [pre-commit](https://pre-commit.com/) project to set up pre-commit hooks. For convenience, there are commands to install hooks:\n\n```sh\n$ kubevious install-git-hook guard\n   ℹ️  Repository: /Users/django/example.git\n   ℹ️  PreCommit Config File: /Users/django/example.git/.pre-commit-config.yaml\n   ℹ️  Hook Repo: https://github.com/kubevious/cli\n   ℹ️  Hook ID: kubevious-guard\n\n✅ Install Git Hook Succeeded.\n   Now you can run: \n     $> cd /Users/django/example.git\n     $> git add .pre-commit-config.yaml\n     $> pre-commit autoupdate\n```\n\nor\n\n```sh\n$ kubevious install-git-hook lint\n```\n\n## ✍️ Writing Custom Rules\nKubevious rules are expressed in a domain-specific language called [Kubik](https://github.com/kubevious/kubik). A great way to start writing your own rules is to learn from the [community-driven rules library](https://github.com/kubevious/rules-library).\n\n## ☎️ Support\nNeed help writing custom rules or policies? Need help with integration into your CI/CD platforms? Or urgently need a new feature or bug fix? Reach out to us at [support@kubevious.io](mailto:support@kubevious.io) \n\n## 💬 Slack\nJoin the [Kubevious Slack workspace](https://kubevious.io/slack) to chat with Kubevious developers and users. This is a good place to learn about Kubevious, ask questions, and share your experiences.\n\n## 🏗️ Contributing\nWe invite your participation through issues and pull requests! You can peruse the [contributing guidelines](https://github.com/kubevious/kubevious/blob/master/CONTRIBUTING.md).\n\n## 🏛️ Governance\nThe Kubevious project is created by [AUTHORS](https://github.com/kubevious/kubevious/blob/master/AUTHORS.md). Governance policy is yet to be defined.\n\n## 🚀 Roadmap\nKubevious maintains a public [roadmap](https://github.com/kubevious/kubevious/blob/master/ROADMAP.md), which provides priorities and future capabilities we are planning on adding to Kubevious.\n\n## 🔭 Kubevious Project\nLearn more about the Kubevious projects in the root repository: https://github.com/kubevious/kubevious\n\n## 📜 License\nKubevious CLI is an open-source project licensed under the [Apache License, Version 2.0](https://www.apache.org/licenses/LICENSE-2.0). "
}
