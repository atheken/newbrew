{
  "name": "bzip3",
  "full_name": "bzip3",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Better and stronger spiritual successor to BZip2",
  "license": "LGPL-3.0-only",
  "homepage": "https://github.com/kspalaiologos/bzip3",
  "versions": {
    "stable": "1.3.1",
    "head": null,
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://github.com/kspalaiologos/bzip3/releases/download/1.3.1/bzip3-1.3.1.tar.gz",
      "tag": null,
      "revision": null,
      "checksum": "0361b72da62d2f2e24456be568b9e2a58b5bd0e9fd23f92d9173d1b2e3b4c3d8"
    }
  },
  "revision": 0,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 0,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:bb6f0f1156a6c568a8bd6f7bc9525add3d3358b0a66142896762a92296090283",
          "sha256": "bb6f0f1156a6c568a8bd6f7bc9525add3d3358b0a66142896762a92296090283"
        },
        "arm64_monterey": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:e7faa126a5efe0f29a3172b11fdbc4246f1f52f2bccfcfa282012e625e1896d7",
          "sha256": "e7faa126a5efe0f29a3172b11fdbc4246f1f52f2bccfcfa282012e625e1896d7"
        },
        "arm64_big_sur": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:62f02c1b343c134d95fd869d65ff58e999a8210c6ca866d5d4c80991d09b88e2",
          "sha256": "62f02c1b343c134d95fd869d65ff58e999a8210c6ca866d5d4c80991d09b88e2"
        },
        "ventura": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:2a450c2240796b4813d6c3582da18c97c9e2b1c368378c5e26a7dc6c2f255267",
          "sha256": "2a450c2240796b4813d6c3582da18c97c9e2b1c368378c5e26a7dc6c2f255267"
        },
        "monterey": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:1fc9eccfdffc1f661addc8bf419f2d38eec0065086823886ff476f0e40801690",
          "sha256": "1fc9eccfdffc1f661addc8bf419f2d38eec0065086823886ff476f0e40801690"
        },
        "big_sur": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:707c7b3c8e4fad49df3ae15269e715476c56f5994acc5b1a5f9e3206df98e73e",
          "sha256": "707c7b3c8e4fad49df3ae15269e715476c56f5994acc5b1a5f9e3206df98e73e"
        },
        "x86_64_linux": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/bzip3/blobs/sha256:eb983260b781857ee240380531287a49ca866a318a2f80a08d1f09aa1d04bf45",
          "sha256": "eb983260b781857ee240380531287a49ca866a318a2f80a08d1f09aa1d04bf45"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [],
  "dependencies": [],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": false,
  "disable_date": null,
  "disable_reason": null,
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "4eeae4ea50839e967536ba646d5e0ed6fbcbad7f",
  "ruby_source_path": "Formula/bzip3.rb",
  "ruby_source_checksum": {
    "sha256": "96d3043b9e436c35085ab9862cfdb2b891ac7abd6cebbfa39c5df4bac035bfab"
  },
  "date_added": "2023-01-09T15:46:03+00:00",
  "readme": "# BZip3\n\n[![Build](https://github.com/kspalaiologos/bzip3/actions/workflows/build.yml/badge.svg)](https://github.com/kspalaiologos/bzip3/actions/workflows/build.yml)\n\nA better, faster and stronger spiritual successor to BZip2. Features higher compression ratios and better performance thanks to a order-0 context mixing entropy coder, a fast Burrows-Wheeler transform code making use of suffix arrays and a RLE with Lempel Ziv+Prediction pass based on LZ77-style string matching and PPM-style context modeling.\n\nLike its ancestor, **BZip3 excels at compressing text or code**.\n\n## Installation\n\n```console\n# If using a git clone (not needed for source packages), first...\n$ ./bootstrap.sh\n\n# All...\n$ ./configure\n$ make\n$ sudo make install\n```\n\nAlternatively, you might be able to install bzip3 using your system's package manager:\n\n[![Packaging status](https://repology.org/badge/vertical-allrepos/bzip3.svg)](https://repology.org/project/bzip3/versions)\n\nOn macOS, you can use [Homebrew](https://brew.sh) to easily install:\n\n```console\n$ brew install bzip3\n```\n\n## Perl source code benchmark\n\nFirst, I have downloaded every version of Perl5 ever released and decompressed them.\n\n```bash\n% wget -r -l1 -nH --cut-dirs=2 --no-parent -A.tar.gz --no-directories https://www.cpan.org/src/5.0/\n% for g in *.gz; do gunzip $g; done\n% ls -la | wc -l\n262\n```\n\nThen, I put all the resulting `.tar` files in a single `.tar` file and tried to compress it using various compressors:\n\n```\nxz -T16 -9 -k all.tar  10829.91s user 26.91s system 1488% cpu 14658M memory 12:09.24 total\nbzip2 -9 -k all.tar  981.78s user 9.77s system 95% cpu 8M memory 17:16.64 total\nbzip3 -e -b 256 -j 12 all.tar  2713.81s user 16.28s system 634% cpu 18301M memory 7:10.10 total\nbzip3 -e -b 511 -j 4 all.tar  17.65s user 12.19s system 170% cpu 12178M memory 7:08.65 total\nzstd -T12 -16 all.tar  4162.94s user 16.40s system 1056% cpu 687M memory 6:35.62 total\n```\n\nThe results follow:\n\n* LZMA (xz) - 2'056'645'240 bytes\n* bzip2 - 3'441'163'911 bytes\n* bzip3 -b 256 - 1'001'957'587 bytes\n* bzip3 -b 511 - 546'456'978 bytes\n* Zstandard - 3'076'143'660 bytes\n\nFinally, wall clock time decompression times (WD Blue HDD):\n* LZMA (xz) - 4min 40s\n* bzip2 - 9min 22s\n* bzip3 (parallel) - 4min 6s\n* Zstandard - 3min 51s\n\nThen, I used `lrzip` to perform long-range deduplication on the original `.tar` file:\n\n```\n% time lrzip -n -o all_none.tar.lrz all.tar\n546.17s user 160.87s system 102% cpu 10970M memory 11:28.00 total\n\n% time lrzip --lzma -o all_lzma.tar.lrz all.tar\n702.16s user 161.87s system 122% cpu 10792M memory 11:44.83 total\n\n% time lrzip -b -o all_bzip2.tar.lrz all.tar\n563.93s user 147.38s system 112% cpu 10970M memory 10:34.10 total\n```\n\nFinally, I compressed the resulting `none.tar.lrz` file using bzip3:\n\n```\n% time bzip3 -e -b 256 -j 2 all_none.tar.lrz\n32.05s user 0.76s system 146% cpu 2751M memory 22.411 total\n```\n\nThe results follow:\n\n* lrzip + bzip3 - 60'672'608 bytes.\n* lrzip + lzma - 64'774'202 bytes.\n* lrzip + bzip2 - 75'685'065 bytes.\n\nFor further benchmarks against Turbo-Range-Coder and BSC, check [powturbo's benchmark](https://github.com/powturbo/Turbo-Range-Coder) of bzip3, bzip2, bsc and others.\n\n## Disclaimers\n\n**I TAKE NO RESPONSIBILITY FOR ANY LOSS OF DATA ARISING FROM THE USE OF THIS PROGRAM/LIBRARY, HOWSOEVER CAUSED.**\n\nEvery compression of a file implies an assumption that the compressed file can be decompressed to reproduce the original. Great efforts in design, coding and testing have been made to ensure that this program works correctly.\n\nHowever, the complexity of the algorithms, and, in particular, the presence of various special cases in the code which occur with very low but non-zero probability make it impossible to rule out the possibility of bugs remaining in the program.\n\nDO NOT COMPRESS ANY DATA WITH THIS PROGRAM UNLESS YOU ARE PREPARED TO ACCEPT THE POSSIBILITY, HOWEVER SMALL, THAT THE DATA WILL NOT BE RECOVERABLE.\n\nThat is not to say this program is inherently unreliable. Indeed, I very much hope the opposite is true. Bzip3/libbz3 has been carefully constructed and extensively tested.\n\n**Bzip3's performance is _heavily_ dependent on the compiler. x64 Linux clang13 builds usually can go as high as 17MiB/s compression and 23MiB/s decompression _per thread_. Windows and 32-bit builds might be considerably slower.**\n\nBzip3 has been tested on the following architectures:\n- x86\n- x86_64\n- armv6\n- armv7\n- aarch64\n- ppc64le\n- mips\n- mips64\n- sparc\n- s390x\n\n## Corpus benchmarks\n\n![visualisation of the benchmarks](etc/benchmark.png)\n\nCheck etc/BENCHMARKS.md for more results.\n\n## Thanks\n\n- Ilya Grebnov for his `libsais` library used for BWT construction in BZip3 and the LZP encoder which I had used as a reference implementation to improve myself.\n- Caleb Maclennan for configuring autotools as a packaging-friendly build system for BZip3.\n- Ilya Muravyov for his public domain BWT post-coder, a derivative of which is used in this project."
}
