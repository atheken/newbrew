{
  "name": "macosvpn",
  "full_name": "macosvpn",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Create Mac OS VPNs programmatically",
  "license": "MIT",
  "homepage": "https://github.com/halo/macosvpn",
  "versions": {
    "stable": "2.0.0",
    "head": null,
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://github.com/halo/macosvpn/archive/2.0.0.tar.gz",
      "tag": null,
      "revision": null,
      "checksum": "bf91fad369d616907d675be39de7d0c6a78ac0a8c184b59c0af2b6b4a722ca74"
    }
  },
  "revision": 0,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 0,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:ba041bd58d4f5a2c58e25ba148a1e9381e0c1f9144661f3f0c0e039f0140c993",
          "sha256": "ba041bd58d4f5a2c58e25ba148a1e9381e0c1f9144661f3f0c0e039f0140c993"
        },
        "arm64_monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:05556552fac0910a7f96aa82a60d84fb81269399183eb1c44262536eb898fd9f",
          "sha256": "05556552fac0910a7f96aa82a60d84fb81269399183eb1c44262536eb898fd9f"
        },
        "arm64_big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:ca5acfb04df29355633ded3a1c63b35e6c8f2cf63f0f76b065b35e3cad76e319",
          "sha256": "ca5acfb04df29355633ded3a1c63b35e6c8f2cf63f0f76b065b35e3cad76e319"
        },
        "ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:4bef08a42e37828e824db81873a433b47843e64ffeaba297fd0a190d9bbe2301",
          "sha256": "4bef08a42e37828e824db81873a433b47843e64ffeaba297fd0a190d9bbe2301"
        },
        "monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:e0a039a15c681f44320e6cefc8d2b87f035ec25aabb5919adbc65656889d95c0",
          "sha256": "e0a039a15c681f44320e6cefc8d2b87f035ec25aabb5919adbc65656889d95c0"
        },
        "big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:8a85ae6d100ebe8ce596b3c430784083c4bfec7b833c8abb630b5838faaec8b9",
          "sha256": "8a85ae6d100ebe8ce596b3c430784083c4bfec7b833c8abb630b5838faaec8b9"
        },
        "catalina": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/macosvpn/blobs/sha256:a23588080999163bfe86a43034b4caa6bfc09c5ab6dde3a4cf09ba6c6d5c1209",
          "sha256": "a23588080999163bfe86a43034b4caa6bfc09c5ab6dde3a4cf09ba6c6d5c1209"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [],
  "dependencies": [],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [
    {
      "name": "xcode",
      "cask": null,
      "download": null,
      "version": "11.1",
      "contexts": [
        "build"
      ],
      "specs": [
        "stable"
      ]
    },
    {
      "name": "macos",
      "cask": null,
      "download": null,
      "version": null,
      "contexts": [],
      "specs": [
        "stable"
      ]
    }
  ],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": false,
  "disable_date": null,
  "disable_reason": null,
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "4eeae4ea50839e967536ba646d5e0ed6fbcbad7f",
  "ruby_source_path": "Formula/macosvpn.rb",
  "ruby_source_checksum": {
    "sha256": "72e81eb1e1c6f2f5530e3fc5024e05beabfdbd4a656b42d64bdea8cc342ea6d3"
  },
  "date_added": "2016-02-13T02:21:33+00:00",
  "readme": "[![Version](https://img.shields.io/github/tag/halo/macosvpn.svg?style=flat&label=version)](https://github.com/halo/macosvpn/releases)\n[![Homebrew](https://img.shields.io/homebrew/v/macosvpn.svg?style=flat)](https://github.com/Homebrew/homebrew-core/blob/master/Formula/macosvpn.rb)\n[![License](https://img.shields.io/badge/license-MIT-blue.svg?style=flat)](https://github.com/halo/macosvpn/blob/master/LICENSE.md)\n[![Build Status](https://github.com/halo/macosvpn/actions/workflows/tests.yml/badge.svg?branch=master)](https://github.com/halo/macosvpn/actions)\n[![Codebeat](https://codebeat.co/badges/b60656d2-1cc8-4644-a1a9-4a35177476fb)](https://codebeat.co/projects/github-com-halo-macosvpn)\n[![Gitter](https://badges.gitter.im/Join%20Chat.svg)](https://gitter.im/halo/macosvpn)\n![Swift](https://img.shields.io/badge/Swift-5-F16D39.svg?style=flat)\n\n## Create Mac OS VPNs programmatically\n\nThis is a command-line tool written in Swift that can create VPN network configurations on your Mac.\n\nIt supports **L2TP over IPSec** and **Cisco IPSec**.\nIntegration tests are run as Github Action, to ensure it's working properly.\n\nThis open-source code is actively maintained. Should you like to motivate me, you may click on the âœ­ in the top-right corner.\n\n![Screenshot](https://cdn.rawgit.com/halo/macosvpn/master/doc/screenshot_1.0.0-rc1.jpg)\n\n## Requirements\n\n#### macOS 10.10 or higher\n\nNote that the installation via homebrew could fail on previous operating systems, such as High Sierra. In that case, please browse the [releases](https://github.com/halo/macosvpn/releases) section to find an earlier build for your operating system.\n\n#### Administrator privileges\n\nI.e. you *have* to run it with sudo. The passwords of VPN services are exclusively stored in the *System Keychain*.\nOnly `sudo` or a [HelperTool](https://developer.apple.com/library/mac/documentation/Security/Conceptual/SecureCodingGuide/Articles/AccessControl.html#//apple_ref/doc/uid/TP40002589-SW2) can write to the *System Keychain*.\nI don't want you to have to deal with the complexity a HelperTool can entail, so we simply use `sudo`.\n\n## Installation\n\nIf you have [Homebrew](http://brew.sh) installed, you can simply start a Terminal and run:\n\n```sh\n# To see which version is installed via homebrew, have a look at:\n# https://github.com/Homebrew/homebrew-core/search?q=macosvpn&type=Issues\n\nbrew install macosvpn\n```\n\nIf not, you can run this curl command to get the compiled executable from Github:\n\n```sh\n# Make sure first that the directory /usr/local/bin exists\n\nsudo sh -c \"curl -L https://github.com/halo/macosvpn/releases/download/1.0.0/macosvpn > /usr/local/bin/macosvpn\"\nsudo chmod +x /usr/local/bin/macosvpn\n```\n\nAs of macOS Catalina you may once have to \"accept\" that this executable is considered \"safe\":\n\n```sh\nxattr -d com.apple.quarantine /usr/local/bin/macosvpn\n```\n\nIf that freaks you out (it should), you can compile it yourself if you have a recent Xcode version installed:\n\n```sh\ngit clone https://github.com/halo/macosvpn.git\ncd macosvpn\nbin/build\n```\n\nYou can always run `macosvpn --version` to see the version currently installed on your system\nand compare it to [the latest available version](https://github.com/halo/macosvpn/releases) on Github.\n\n## Usage\n\nCreating a single L2TP over IPSec VPN Service:\n\n```sh\nsudo macosvpn create --l2tp Atlantic --endpoint example.com --username Alice \\\n                     --password p4ssw0rd --sharedsecret s3same\n```\n\n* Replace `--l2tp` with `--cisco` to create a Cisco IPSec instead.\n* Groupnames can be specified with `--groupname`.\n* Add `--force` to overwrite an existing VPN with the same name.\n\nBy default, L2TP is created with the \"Send all traffic over VPN connection\" option, also known as wildcard routing.\nYou can add the `--split` flag to **not** force all traffic over VPN.\n\nThe same command shorter (try out `--help` to see all available arguments):\n\n```sh\nsudo macosvpn create -l Atlantic -e example.com -u Alice -p p4ssw0rd -s s3same\n```\n\nWith L2TP you can\n\n* add `--split` to *not* force all traffic over VPN.\n* add `--disconnectswitch` to disconnect when switching user accounts.\n* add `--disconnectlogout` to disconnect when user logs out.\n\n#### Creating multiple VPNs at once\n\nRepeat the arguments to create multiple Services at once.\n\n```sh\nsudo macosvpn create -c Atlantic -e atlantic.example.com -u Alice -p p4ssw0rd \\\n                     -l Pacific -e pacific.example.com -u Bob -p s3same\n```\n\n#### Deleting VPN services\n\n```sh\nsudo macosvpn delete --name MyVPN\nsudo macosvpn delete -n AnotherOne -n ThisOneToo\nsudo macosvpn delete --all # Careful!\n```\n\n## Troubleshooting\n\n* If you're stuck, try to add the `--debug` flag and see if it says something useful.\n\n## Limitations\n\n* It is not possible to add so called \"configurations\" for L2TP. See [this issue](https://github.com/halo/macosvpn/issues/17).\n\n## Development\n\nThe `master` branch is always edge and may not be ready for production.\n\nThere are XCTest units test and integration tests that are run using ruby. Simply look at [bin/test](https://github.com/halo/macosvpn/blob/master/bin/test) to see how to run the tests on your Mac.\n\nUseful commands for debugging:\n\n```bash\n# Show all current VPN service configurations\nopen /Library/Preferences/SystemConfiguration/preferences.plist\n```\n\n```bash\n# Show all Keychain Items and their access policies\nsecurity dump-keychain -a /Library/Keychains/System.keychain\n```\n\n## History and credits\n\nFeel free to browse through the code of this application.\nIt's pretty small and straight-forward.\n\nIt all began with finding [this page](https://lists.apple.com/archives/macnetworkprog/2011/May/msg00032.html) you probably already found.\nBut it was not before [this practical example](https://lists.apple.com/archives/macnetworkprog/2013/Apr/msg00016.html) that I actually dared to try to implement this.\nThen, google led me to [this page](https://lists.apple.com/archives/macnetworkprog/2007/Dec/msg00045.html) where I learned how to set the Shared Secret.\nThe last hurdle was to get the \"Send all traffic over VPN\" flag, which I finally [found the answer to here](http://pastebin.com/112KEHSV).\nFinally, I [learned from over here](http://stackoverflow.com/questions/24363935) how to add things to the System Keychain.\n\n## Special thanks\n\nThank you for reporting bugs. And thanks to all keen [contributors](https://github.com/halo/macosvpn/graphs/contributors).\n\nAlso thanks to \"[The Eskimo!](https://developer.apple.com/forums/profile/eskimo)\",\nwhenever I'm deep down in the undocumented macOS VPN stack,\nI end up finding random forum posts by this remarkably helpful Apple engineer.\n\nThese are 3rd-party libraries, which were kindly released under the MIT license:\n\n* [Moderator](https://github.com/kareman/Moderator) by Kare Morstol\n* [PrettyColors](https://github.com/jdhealy/PrettyColors) by J.D. Healy\n\n## License\n\nMIT 2014-2020 halo. See [LICENSE.md](https://github.com/halo/macosvpn/blob/master/LICENSE.md)."
}
