{
  "name": "ttdl",
  "full_name": "ttdl",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Terminal Todo List Manager",
  "license": "MIT",
  "homepage": "https://github.com/VladimirMarkelov/ttdl",
  "versions": {
    "stable": "4.0.0",
    "head": null,
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://github.com/VladimirMarkelov/ttdl/archive/refs/tags/v4.0.0.tar.gz",
      "tag": null,
      "revision": null,
      "checksum": "9384a1a85745ee75a8a09a8b5dbf6ffe9c46dee493d8b4fc0309b0625aff5786"
    }
  },
  "revision": 0,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 0,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:2832d0bb4d9fb9898c3a511a6ee1971f3a3e9e073c1243964406acc31890b95c",
          "sha256": "2832d0bb4d9fb9898c3a511a6ee1971f3a3e9e073c1243964406acc31890b95c"
        },
        "arm64_monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:ff1de6634b8fe6dd59f6f8b16e90a09695573f17cbe5dec43047f81b7ccc6c86",
          "sha256": "ff1de6634b8fe6dd59f6f8b16e90a09695573f17cbe5dec43047f81b7ccc6c86"
        },
        "arm64_big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:a0fb172b12056efa574ab3e6bec79ef51dee5242fbc4e01a023243e923645972",
          "sha256": "a0fb172b12056efa574ab3e6bec79ef51dee5242fbc4e01a023243e923645972"
        },
        "ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:d5f79fbf5ad5e932bc4552e6d0093d1b5cba29bdcc389b21310deac7dfb85dcc",
          "sha256": "d5f79fbf5ad5e932bc4552e6d0093d1b5cba29bdcc389b21310deac7dfb85dcc"
        },
        "monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:57e992431482fbb6f3a174dc89e42234612e6054fee1fa3f02d95e920c93f637",
          "sha256": "57e992431482fbb6f3a174dc89e42234612e6054fee1fa3f02d95e920c93f637"
        },
        "big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:98d3f4d040ebc9fa1bbefe781c1759496bd4583bdeea79569328ca9c7504bafb",
          "sha256": "98d3f4d040ebc9fa1bbefe781c1759496bd4583bdeea79569328ca9c7504bafb"
        },
        "x86_64_linux": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/ttdl/blobs/sha256:b610649b9e34e236c2a7e8b62cd3d1693e8fdb7f7af85f4a22e381e775c83db3",
          "sha256": "b610649b9e34e236c2a7e8b62cd3d1693e8fdb7f7af85f4a22e381e775c83db3"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [
    "rust"
  ],
  "dependencies": [],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": false,
  "disable_date": null,
  "disable_reason": null,
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "982192bf852eebace6c92c1e792d894990b8620e",
  "ruby_source_path": "Formula/ttdl.rb",
  "ruby_source_checksum": {
    "sha256": "fc61c566810f0f18b579257cc4dab801c7d5c67e6569af963ad52a24668aee94"
  },
  "date_added": "2022-07-16T14:52:36+00:00",
  "readme": "# Table of Contents\n\n- [TTDL (Terminal ToDo List)](#ttdl-terminal-todo-list)\n  - [Installation](#installation)\n    - [Precompiled binaries](#precompiled-binaries)\n    - [Homebrew](#homebrew)\n  - [Known issues](#known-issues)\n  - [Configuration](#configuration)\n    - [Extra ways to set filenames of active and archived todos](#extra-ways-to-set-filenames-of-active-and-archived-todos)\n    - [Customizing the output](#customizing-the-output)\n      - [Output customization example](#output-customization-example)\n  - [How to use](#how-to-use)\n    - [Output example](#output-example)\n    - [Filtering](#filtering)\n    - [Archive](#archive)\n      - [How to show archived todos](#how-to-show-archived-todos)\n    - [Supported commands](#supported-commands)\n      - [Calendar](#calendar)\n    - [Tags](#tags)\n    - [Hashtags](#hashtags)\n    - [Time tracking](#time-tracking)\n    - [Statistics](#statistics)\n    - [Custom formatting](#custom-formatting)\n      - [How to enable custom formatting](#how-to-enable-custom-formatting)\n      - [Plugin interaction](#plugin-interaction)\n      - [Example](#example)\n    - [Extra features](#extra-features)\n      - [Syntax highlight](#syntax-highlight)\n      - [Hide duplicated info](#hide-duplicated-info)\n    - [Human-readable dates](#human-readable-dates)\n    - [Custom columns](#custom-columns)\n      - [Custom column example]($custom-column-example)\n  - [Command line examples](#command-line-examples)\n    - [List and filter](#list-and-filter)\n    - [Add a new todo](#add-a-new-todo)\n    - [Done (undone)](#done-undone)\n    - [Clean up the list](#clean-up-the-list)\n    - [Modify todo list](#modify-todo-list)\n    - [Use human-readable dates](#use-human-readable-dates)\n    - [Show all project or context tags](#show-all-project-or-context-tags)\n\n## TTDL (Terminal ToDo List)\n\n![build](https://travis-ci.com/VladimirMarkelov/ttdl.svg?branch=master)\n[![crates.io](https://img.shields.io/crates/v/ttdl.svg)](https://crates.io/crates/ttdl)\n[![Downloads](https://img.shields.io/crates/d/ttdl.svg)](https://crates.io/crates/ttdl)\n\nA CLI tool to manage todo lists in [todo.txt format](http://todotxt.org/). A short demo of TTDL in action:\n\n<img src=\"./images/ttdl_demo.gif\" alt=\"TTDL in action\">\n\n## Installation\n\nThe application can be compiled from source, or installed using cargo:\n\n```shell\ncargo install ttdl\n```\n\nYou need Rust compiler that supports Rust 2018 edition (Rust 1.31 or newer) to do it. If you want to upgrade existing ttdl execute the following command:\n\n```shell\ncargo install ttdl --force\n```\n\n### Precompiled binaries\n\nFor Windows and Ubuntu you can download precompiled binaries from [Release page](https://github.com/VladimirMarkelov/ttdl/releases).\n\n- Windows binary works on Windows 7 or newer Windows.\n- Ubuntu binary tested on Ubuntu 16 but should work on Ubuntu 18 (and maybe on other deb-based Linux distributions)\n\n### Homebrew\n\nFor macOS and Linux you can install TTDL using [Homebrew](https://brew.sh/):\n\n```shell\nbrew install ttdl\n```\n\n## Known issues\n\n**Adding a new todo, append or prepend a text to existing todo results in error:**\n\nIt may happen if the text starts with(or contains only) a project or a context:\n\n```shell\n$ ttdl add \"+myproject\"\nSubject is empty\n```\n\n**Workaround**: add a space between quotation mark and '+' or '@' symbol. The todo will be added without leading space:\n\n```shell\n$ ttdl add \" +myproject\"\nAdded todo:\n# D P Created    Finished   Due        Threshold  Subject\n----------------------------------------------------------\n8                                                 +myproject\n```\n\n## Configuration\n\nTTDL is a standalone binary and it does not create any files in user's directory. But at start, it checks for a configuration file - please see example configuration [ttdl.toml](./ttdl.toml) in user's configuration directory and loads it. Local configuration files are supported as well. Locations where TTDL looks for a configuration file:\n\n- current working directory\n- Linux: `~/.config/ttdl/ttdl.toml`\n- Windows: `c:\\Users\\{username}\\AppData\\Roaming\\ttdl\\ttdl.toml`\n- OSX: `/Users/{username}/Library/Application Support/ttdl/ttdl.toml`\n\nTo check in which directory TTDL looks for its configuration file, please refer to the table [Features](https://github.com/dirs-dev/dirs-rs#features), function name `config_dir`.\n\nFirst, TTDL looks for a configuration file in the current working directory. And only if it does not contain ttdl.toml, the application looks for its configuration file in user's directory. Automatic configuration path detection can be overridden with command line option `-c` or `--config`. If the option is set in command line TTDL disables automatic detection of the configuration file path.\n\nThe configuration file contains options that cannot be set in command line:\n\n- default foreground color(usually it is white color for dark-themed terminal). By default, the option is not in the configuration file that means `None` = terminal default color.\n- colors for special kinds of todos: overdue, due today, due soon, top priority, high priority, and completed\n- ranges for cases \"due soon\" and \"high priority\". By default both option are disabled. To enable \"due soon\", set it to the number of days, so todos that are due in equal to or less than that number(except overdue and due today todos) will be displayed with `soon` color. To enable high priority highlight, set `important` to a priority - all todos with this priority or higher(except top priority ones) will be displayed with `important` color.\n- `filename` - the path to global todo file (can point to directory, TTDL adds `todo.txt` automatically if `filename` is a directory). To override the option, you can set environment variable `TTDL_FILENAME` or use command line option `--local` if you need to load todo list from current working directory\n- `creation_date_auto` The option defines TTDL behavior when a new todo is added. By default, TTDL adds a todo as is - a user must set manually creation date in the subject. Setting `creation_date_auto` to `true` makes TTDL to set today as creation date for all new todos if their subject does not include creation date.\n\n### Extra ways to set filenames of active and archived todos\n\nRules to choose a file which is loaded as todo list at startup (from lowest to highest priority):\n\n1. Default is a file \"todo.txt\" in the current working directory\n2. Configuration file option `filename` in section `global`\n3. Value of environment variable `TTDL_FILENAME`\n4. Command line option `--todo-file`\n5. If option `--local` is set it overrides all options above and loads \"todo.txt\" from the current working directory\n\nIf any path at steps 2-5 points to a directory then \"todo.txt\" is added automatically.\n\nRules to choose a file which is used to store archived todos (from lowest to highest priority):\n\n1. \"done.txt\" in the same directory with \"todo.txt\"\n2. Command line option `--done-file`. If any path set in command line points to a directory then \"done.txt\" is added automatically. If the value is only a filename without directory then the directory is inherited from todo list file\n\n### Customizing the output\n\nNOTE: The only column that cannot be customized and cannot be hidden is the very first column `ID`.\nThe ordinal number of a task always goes first.\n\nThe default output shows the following columns: marker for done, priority, creation date, finish date, due date, and subject.\nAll dates are displayed as absolute values in ISO format, e.g. \"2023-05-19\".\n\nThere are a lot of way to change the way TTDL displays the task table.\nThe simplest way is to use command-line option `--short`.\nThe option hides all columns except marker for done and priority.\n\nIf you prefer to see how many days left before something or how many days passed some date, use the command-line option `--human`.\nThe option transforms absolute dates into `in 1w`(in 1 week) or `6d ago`(6 days ago) depending on the current date.\n\nIf you want to hide, show, or reorder some columns, use the command-line option `--fields` or modify configuration option `global.fiels`.\nThe option is a command-separated list of column names.\nTTDL displays columns in the same order in which you put them to `--fields`.\nUsually the column name and a tag name are the same, but majority of standard columns are exceptions:\n\n| Field name | Column displays |\n| --- | --- |\n| `done` | Shows `x` if a task is done, `R` if a task is recurrent, and nothing otherwise |\n| `pri` | Task priority |\n| `ctx` | Task contexts, comma-separated if the task has more than 1 context |\n| `prj` | Task projects, comma-separated if the task has more than 1 project |\n| `created` | Task creation date |\n| `finished` | Task completion date |\n| `due` | Task due date |\n| `thr` | Threshold date (the tag name is `t:`) |\n\nIf you do not like empty columns, but you do not want to fiddle with `--fields` every time, you can use the option `--auto-hide-cols` or set the configuration option `global.auto_hide_columns = true`.\nWhen auto hiding columns is on, TTDL automatically hides the columns which have no values.\n\nThe opposite case: you do not want to define `--fields` every time but you want to display all existing tags in separate columns.\nUse the option `--auto-show-cols` or set the `global.auto_show_columns = true`.\nWhen the option is on, first, TTDL traverse through the list of tasks and collects all non-empty tags.\nSecond, TTDL shows all the tags in corresponding columns.\n\nNOTE: custom tags(tags which names start with `!`) are never shown in separate columns.\n\nWhen using `--fields` and `auto-show-cols` you can notice that some information is duplicated.\nThe first occurrence is in the column, the second one is inside subject text.\nSometimes it is helpful, e.g. if you pass `--human` option, columns with dates will display relative value(`1d ago`).\nAt the same time, task subject contains the absolute value of the date(`2023-05-17`).\nAnyway, most of the time the duplication does not look good.\nTo mitigate the issue, use the option `--clean-subject` or set the configuration option `global.clean_subject`.\nThe option takes one of three values:\n\n1. `none` - default mode. Nothing is hidden.\n2. `all` - all duplicated info is removed from the subject (project, context, tags, etc)\n3. `tags` - only tags are removed from the subject(contexts and projects are always displayed in subject). Sometimes, context or project is a part of the text, so removing them can ruin the message. This mode helps to fix this trouble.\n\nThe last option that affects the output, is `--always-hide-cols` or configuration option `global.always_hide_columns`.\nIts value is a comma-separated list of tags that are never shows in their own columns, they are shown only inside `subject` text.\n\nNone of mentioned options are mutually exclusive. They allow you to customize the output in a flexible way.\nE.g, by setting `--fields` you define what fields you want to see first and in what order.\nAdding `--auto-show-cols` display the rest of columns in \"random\" order - in order of appearance in the task list.\n\nThe options are applied to the output in the following order(in case of all options are enabled):\n\n1. First, `--fields` to create the beginning of the table\n2. Second, `--auto-show-cols` appends the rest of columns\n3. Third, `--auto-hide-cols` removes all empty columns\n4. Fourth, `--always-hide-cols` removes the columns that should not be visible\n5. The last, `--clean-subject` removes from the subject text all tags and values which are displayed in separate columns\n\n#### Output customization example\n\nLet's assume, `todo.txt` contains a task:\n\n```\nbuy milk @food +house due:2023-07-31 rec:1w count:2\n```\n\nShow the list of tasks with various options (for brevity, I omit the tail of the output):\n\n```\n> ttdl list\n # D P Created Finished Due        Subject\n -------------------------------------------\n 1 R                    2023-07-31 buy milk @food +house due:2023-07-31 rec:1w count:2\n\n> ttdl list --human\n # D P Created Finished Due   Subject\n --------------------------------------\n 1 R                    in 2d buy milk @food +house due:2023-07-31 rec:1w count:2\n\n> ttdl list --fields=ctx,created,due\n # Context Created Due        Subject\n --------------------------------------\n 1 food            2023-07-31 buy milk @food +house due:2023-07-31 rec:1w count:2\n\n> ttdl list --fields=ctx,created,due --auto-hide-cols\n # Context Created Due        Subject\n --------------------------------------\n 1 food    2023-07-31 buy milk @food +house due:2023-07-31 rec:1w count:2\n\n> ttdl list --fields=ctx,created,due --auto-hide-cols --auto-show-cols\n # Context Due        D Project Rec Count Subject\n --------------------------------------------------\n 1 food    2023-07-31 R house   1w  2     buy milk @food +house due:2023-07-31 rec:1w count:2\n\n> ttdl list --fields=ctx,created,due --auto-hide-cols --auto-show-cols --clean-subject=all\n # Context Due        D Project Count Rec Subject\n --------------------------------------------------\n 1 food    2023-07-31 R house   2     1w  buy milk\n\n> ttdl list --fields=ctx,created,due --auto-hide-cols --auto-show-cols --clean-subject=all --always-hide-cols=rec\n # Context Due        D Project Count Subject\n ----------------------------------------------\n 1 food    2023-07-31 R house   2     buy milk rec:1w\n```\n\n## How to use\n\nRun TTDL with the command line:\n\n```shell\nttdl [command] [ID range] [subject] [filter options] [extra options]\n```\n\nOptions can be at any position. ID range and subject are optional but if you are going to use both, ID range must go first.\n\nIf a non-option starts with `+` or `@`, the option is considered as a filter by project or context respectively. Command line can contain as many projects and contexts as needed. In this case, all items of the same group are combined with OR. Example: if you execute `ttdl list +myproj +demo @docs`, it displays all todos that belongs to either `myproj` or `demo`, and have `docs` context.\n\nIf the first non-option word contains only digits and dash character, it is treated as a single ID(only digits) or ID range(digits with a dash) or ID list(numbers separated with comma). ID is 1-based: a number between 1 and the number of todos in the entire list. It is OK to use ID out of that range: IDs that are greater than the number of todos or lower than 1 are skipped. So, e.g., if you want to remove all todos starting from 10th todo, you can run the command `ttdl remove 10-999999 -a` - `-a` to delete both completed and incomplete todos.\n\nThe second non-option(or the first one if ID range is not defined) is a subject. Subject's usage depends on command:\n\n- `add` - it is an entire text for a new todo (including projects, contexts, due date, recurrence);\n- `edit` - it is an entire new subject for the first selected todo;\n- for the rest commands it can be either a substring(case-insensitive search) or a regular expression to search in the todo's subject, projects, and contexts - depends on the option `--regex`.\n\nNOTES:\n\n1. All dates are entered and displayed in format - YYYY-MM-DD(4 year digits - 2 month digits - 2 day digits, or ISO 8601 date format)\n2. Recurrence is defined in format 'the number of intervals' + 'interval type' without a space between them. Interval type is one of `d` - days, `w` - weeks, `m` - months, `y` - years. Example: to add a todo with your friend's birthday(let's assume today is 10th of April) use the following command `ttdl add \"best friend birthday due:2019-04-10 rec:1y\"`. After the birthday passes, just execute `ttdl done <todo-ID>` and it will change its due date to 2020-04-10\n3. Recurrence special case: if you set due date to the last day of a month and interval is a month or longer then the next due date will always be the end of the months. Example: a todo `pay credit due:2019-02-28 rec:1m` after executing `ttdl done ID` turns into `pay credit due:2019-03-31`\n\n### Output example\n\n```shell\n# D P Created    Finished   Due        Threshold  Subject\n----------------------------------------------------\n1 x A 2016-04-30 2016-05-20                       measure space for +chapelShelving @chapel\n2   C 2016-05-20                                  paint +chapelShelving @shelve\n3 R                         2018-11-11            pay credit card rec:1m\n----------------------------------------------------\n3 todos (of 3 total)\n```\n\nColumns:\n\n- `#` - order number of a todo\n- `D` - 'Done', it is empty for an incomplete regular todo, 'x' for a completed todo, and 'R' for recurrent todo\n- `P` - priority (from A to Z, empty value means no priority)\n- `T` - marks an active todo - a todo which has its timer running to track time spent on it\n\n### Filtering\n\nTTDL allows operations on a range of todos. A range is defined either by todo IDs or by todo attribute values.\nThe filters can be used to limit displayed todos with some condition, or to `edit` or `done` a group of command.\nE.g., you can mark `done` all todos of a `project` using a single command.\n\nAll examples below are for `list` command, but filter can be used for more commands, like `done` and `edit`.\n\n#### Filter by IDs\n\nIf the first argument after a command is a number-like, TTDL treats it as todo ID or todo ID list.\nSupported ID formats:\n\n- `ttdl list 5` - a single todo ID, lists a single todo with ID = 5(if it is incomplete)\n- `ttdl list 2-4` - a range, show all todos from 2nd to 4th(inclusive)\n- `ttdl list 2,4` - a list of IDs, show two todos(if they are incomplete): only 2nd and 4th ones\n\n#### Filter by priority\n\nPriority filter is set with `--pri` argument. Available filter kinds:\n\n- `ttdl list --pri=none` - show all incomplete todos that does not have priority set\n- `ttdl list --pri=-` - the same as above\n- `ttdl list --pri=any` - show all incomplete todos that have non-empty priority\n- `ttdl list --pri=+` - as above\n- `ttdl list --pri=#` - where `#` is a low case Latin letter between `a` and `z`, show all incomplete todos that have the same priority\n- `ttdl list --pri=#+` - where `#` is a low case Latin letter between `a` and `z`, show all incomplete todos that have priority `#` or higher\n\n#### Filter by recurrence\n\n- `ttdl list --rec=none` - show all non-recurrent todos\n- `ttdl list --rec=-` - the same as above\n- `ttdl list --rec=any` - show all recurrent todos\n- `ttdl list --rec=+` - as above\n\n#### Filter by project, context, and tag\n\n##### Free CLI arguments\n\nAny free command-line argument starting with `+` is a project name, and starting with `@` is a context.\nA command can contain any number of project names(the same true for contexts), in this case the filter\nincludes all todos that contains _any_ of listed projects names. Please note, that while passing a few\ncontexts means \"select todos with any of provided contexts\", passing a few project names and contexts\nat the same time means \"select todos with any of provided project names _and_ any of provided contexts\".\n\nProject names and contexts support basic matching. Append or prepend `*` to project name to match projects\nwhich names ends or starts with the word.\n\n- `ttdl list +proj` - show all incomplete todos that belong to project `proj`\n- `ttdl list @ctxA @ctxB` - show all incomplete todos that have either context `ctxA` or context `ctxB`\n- `ttdl list +projA +projB @ctx` - show all incomplete todos that belong either to project `projA` or to project `projB`, **and** have context `ctx` (`(projA ∨ projB) ∧ ctx`)\n- `ttdl list +*clientA` - show all incomplete todos which project names ends with `clientA`\n- `ttdl list @car*` - show all incomplete todos which have a context starting with `car`\n\nTo exclude todos containing certain project or context, prepend `-`(minus sign) before `+` or `@`:\n\n`ttdl list +projA -@ctx` - show all incomplete todos that belongs to project `projA` and do not contains context `ctx`. (`projA ∧ ¬(ctx)`)\n\n##### Classic CLI options\n\nBesides using `+` and `@` to indicate project and context titles, the application supports classic CLI options to set the list of values for a filter:\n\n- `--project` - filter by project title\n- `--context` - filter by context name\n- `--tag` - filter by tag name\n\nAll options accepts a comma-separated list of names (and/or patterns). If any option value matches any record value, the record is displayed.\n\nSpecial values:\n\n- `none` - select records that do not have any values (`--context none` - records without any context)\n- `any` - select records that have at least one value (`--project any` - records that belong any project)\n\nAny item can be a full name or a pattern to match as it is described in the [previous section](#free-cli-arguments).\n\nIt is possible to exclude todos that contain given projects or contexts from the output.\nMinus sign `-` marks items to exclude:\n\n`ttdl list --project projA --context \"any,-ctxB\"` - list all todos that belong to project `projA` and have any context except `ctxB`. (`{∀x | (x ∈ projA) ∧ ¬(x ∈ ctxB) }`)\n\n#### Filter by date\n\nAll date-like fields(due, threshold, creation, finish) support filtering with a date range as well as a single date.\nRanges are always inclusive. Start and end of a range are separated with either `..` or `:`.\nA range can be \"open\": in this case it is a single value with appended or prepended range separator.\nFor a closed range, the order of the range end is arbitrary: TTDL automatically exchanges beginning and end if needed.\nRanges support only relative dates (positive for dates in the future and negative for dates in the past) or one of special dates.\n\nRelative dates is a list of numbers followed by suffixes (`d` - days, `w` - weeks, `m` - months, `y`- years) without separator.\nE.g., `1y` in a year; `2m1w` in two months and a week; `-10d` - 10 days ago.\n\nSpecial dates are:\n\n- `none` - a date is unset; the value can be used as a single value or as only one end of a range. In latter case the filter works as two filters combined: an open range with a real date, and all todos that have the date field empty\n- `today`, `tomorrow`, `yesterday` - their meaning is clear\n- `first` - first day of the next month\n- `-first` - first day of this month or the previous month(in case of today is the 1st)\n- `last` - last day of this month or next month(in case of today is the last day)\n- `-last` - last day of the previous month\n- `day-of-week` - a full name of a day of week or abbreviated to 2 or 3 first letters, the nearest day-of-week in the future(it is never today)\n- `-day-of-week` - a full name of a day of week or abbreviated to 2 or 3 first letters, the nearest day-of-week in the past(it is never today)\n\nUse the following command-line options to filter by:\n\n- due date `--due`\n- threshold date `--thr`\n- date of creation `--created`\n- completion date `--completed`\n\nField `threshold` is the only field with a specific default value.\nAll other fields have empty default value which means the filter is off.\nThe default value of threshold is inclusive range `[none..today]`.\nTTDL by default hides tasks that has threshold date and the threshold date is tomorrow and later.\n\nExamples (note the difference between ranges and single values):\n\n- `ttdl list --due today` - show all todos that are due today\n- `ttdl list --due ..today` - show all todos that are due today or overdue\n- `ttdl list --due today..` - show all todos that are due today or any day after today\n- `ttdl list --due today..tomorrow` - show todos that are due only today or tomorrow\n- `ttdl list --due tomorrow..today` - the same as above\n- `ttdl list --completed -1w.. -a` - show todos that were done within the last 7 days(a week from today)\n- `ttdl list --completed -first.. -a` - show todos that were done this month(or the previous month if today is the 1st)\n- `ttdl list --due -first..last -a` - show todos that are due this month(including overdue ones); in corner cases(today is the 1st or the last day of month) it shows todos for 2 months range instead of a month range\n- `ttdl list --created -mon..` - show todos that were created this week(or the previous week if today is Monday)\n- `ttdl list --created -mon` - show todos that were created last Monday\n- `ttdl list --due -2d..2d` - show todos that are either slightly overdue(1-2 days overdue) or must be done within 2 next days\n- `ttdl list --due none` - show todos with undefined due date\n- `ttdl list --due none..tomorrow` - show todos that are overdue, due today or tomorrow, and with empty due date\n- `ttdl list --due tomorrow..none` - show todos that are due tomorrow or further in the future, and with empty due date\n\n#### Global filter by a substring\n\nAll filters above works only for a certain todo attribute, but it is possible to filter with a simple substring or regular expression.\nIn this case, TTDL looks for the substring everywhere: in subject(description), contexts, and projects.\nTo do this, just pass a bare substring as the first argument after a command.\nNote the difference between project/context filter and a simple substring one: in the latter case `*` means a character `*`, not anything before or after substring.\nUse command-line option `-e` to enable fuzzy regular expression based filter.\n\n- `ttdl list car*` - show all incomplete todos that have substring `car*` in subject, project or context\n- `ttdl list car.* -e` show all incomplete todos which project, context or subject matches regular expression `car.*`\n\n### Archive\n\nIn the long run a todo list gets full of completed tasks. They may slow down the todo list management.\nIf you do not need to keep completed stuff, you can delete them using command `remove`.\nBut if completed tasks must be kept for a while, you can archive them.\nExecute `clean`(or `archive`) command and completed tasks will be moved from the actual todo list to its archive.\nCleaning up automatically removes also all empty todos.\nTo keep empty todos, pass the command-line option `--keep-empty`.\n\nArchiving completed todos makes the actual todo list loading faster. Though it has a few drawbacks:\n\n- archived todos cannot be modified (e.g, if you want to delete some archived todos, you have to do it manually in any text editor)\n- there is no way to show actual and archived todos at the same time\n\n#### How to show archived todos\n\nTo display archived todos, use option `--done`. The option enables \"archive\" mode: the only available command in this mode is `list` and TTDL loads `done.txt` instead of `todo.txt`. On entering this mode, the option `-A` is enabled automatically if neither `-a` nor `-A` is defined. Read the 1st paragraph of [Command line examples](#command-line-examples) to understand `-[A|a]`\n\n### Supported commands\n\nThe list of available command is short but the commands are powerful. All commands support group operations and dry run mode, except `add` command that adds a new todo one at a time. Please, refer to section \"Examples\", it provides a handful of useful examples of how to filter and modify todo list.\n\nThe application determines which command to execute with the following rules:\n\n1. If the command does not contain any free arguments, TTDL executes `list` command\n2. If the first free argument is a command, TTDL executes it\n3. In all other cases TTDL executes `add` command\n\nThe rules above allow a user to omit the most used commands `add` and `list`.\nAt the same time, the way is error-prone because every typo in command results in adding a new undesirable todo.\nE.g., if you type `ttdl del 15`, TTDL, instead of removing todo at 15 position, adds a new todo with message `del 15`.\nTo avoid such cases and make TTDL command-line check stricter, either add `strict_mode = true` to section `global` or pass `--strict` in command-line.\nIt disables the rule number 3 and TTDL will always require a valid command as the first argument, if there are at least one exists.\nIn strict mode, `ttdl del 15` returns the error \"first argument must be a command\".\n\nCommands:\n\n- add - add a new todo;\n- list - show list of todo items. By default it displays all incomplete todos;\n- done - mark selected todos completed. If a todo is recurrent and contains due or threshold date(or both) the todo is marked completed and new one is created with due and threshold dates moved to the future;\n- undone - remove `finished` mark from completed todos;\n- remove - deletes the selected todos;\n- clean - moves completed todos from main file to `done.txt`. The file `done.txt` is created(if it does not exist) in the same directory where main todo list file is located. By default, the command also removes all empty todos;\n- edit - modify one or few properties for the selected todos. One exception: modifying todo's subject changes only the first selected todo, others are skipped;\n- append - adds a text to the end of the selected todos (space between old text and new one is added automatically);\n- prepend - inserts a new text at the beginning of the selected todos (space between old text and new one is added automatically);\n- start - activate todo's timer;\n- stop - stop todo's timer and update time spent on the todo;\n- stats - display todo statistics: total number of todos, done and overdue ones, spent time, and detailed statistics grouped by project and context.\n- postpone - push task's due date (modifies only incomplete tasks with due date defined), argument is the number of days/weeks/months/years to push the date in format: single digit and d/w/m/y without a space between them\n- listprojects - show list of all project tags. Filters used by \"list\" are supported;\n- listcontexts - show list of all context tags. Filters used by \"list\" are supported;\n\nMost of the commands can be abbreviated. Please refer to built-in TTDL help to get a list of full command names and their aliases.\n\nAll commands(except `listcontexts` and `listprojects`) skip hidden tasks by default. To include hidden tasks, use `--hidden` option. See section [tags](#tags) for details.\n\nNOTE: `done` moves a recurrent todo's due date to the next one, but it does not check if the new due date is in the future (it is by design). So, if a monthly task is 2 months overdue, you have to execute `ttdl done ID` two times to push it to the incoming month or manually set a new due date with the command `ttdl edit ID --set-due=YYYY-MM-DD`.\n\n#### Calendar\n\nBy default, the list of todos is displayed as a table.\nCommand-line switch `--calendar=<range>` allows you to peek what is on your plate in a convenient way.\nThe `range` can be either a single value or a date interval.\nIn case of a single value, the calendar always includes today's date.\nInterval values, like `recurrence`, denote how far in the future or or in the past (negative value) the first or the last date of the range.\nThe calendar displays only dates on which you have something due, i.e, the calendar filters only todos that has `due` tag.\nThe full `range` form for a single value is `number + range type`, e.g. `2w` - show this and the next week.\nThe range can be negative. In this case, TTDL displays the past weeks.\nE.g, `--calendar=-2w` prints out the current and the previous week.\nFor an interval, the `range` must be in a form `number + range type .. number + range type`, e.g. `-2m..2m` - shows from the previous month up to the next month.\n\nNote: when printing by full weeks and months, numbers `1`, `-1`, and `0` works the same and always shows only the current week or month.\nSo, `--calendar=1w` and `--calendar=-1w` both display the current week.\n\nSupported range types:\n\n- `d` - days (in a range `-100..=100`)\n- `w` - weeks (in a range `-16..=16`)\n- `m` - months (in a range `-24..=24`)\n- `y` - years (in a range `-2..=2`)\n\nAlso you can use some short-cuts:\n\n- if you do not specify a number, it is defaulted to `1`. E.g, `--calendar=m` and `--calendar=1m` is the same\n- if you omit range type, it defaults to `d`. E.g, `--calendar=10` means `--calendar=10d`.\n\nIn `w` and `m` modes the displayed interval always starts from the first weekday of a week or from the first date of a month,\nand ends with the last day of a week or a month respectively.\nE.g, if today is `2022-07-10` and you request `--calendar=1m`, TTDL outputs the calendar for the entire July: from `2022-07-01` to `2022-07-31`.\nIf you want to display exactly one months starting from today, mark the range strict by prepending `+`: `--calendar=+1m` for today's date `2022-07-10` prints the calendar from `2022-07-10` to `2022-08-09`.\n\nNote: in strict mode `--calendar=1w` and `--calendar=-1w` are not equivalent.\nThe former displays 7 days *starting* with today.\nThe latter prints out 7 days *ending* with today.\n\nColor legend:\n\n- green foreground - week number (it is ISO week number: https://en.wikipedia.org/wiki/ISO_week_date)\n- regular Black and White colors - \"empty\" day when you do not have any todo due\n- Blue background - today's date\n- Magenta foreground - on this day you have one todo due\n- Red foreground - this day has more than one due todo\n\nExample:\n\n<img src=\"./images/todo-calendar.png\" alt=\"Calendar example output\">\n\nIn the picture:\n\n- Today's date is 23rd of April\n- There is one todo is due on 25th\n- There are more than one todo that are due on 27th\n\n### Tags\n\nThe original todo.txt format describes a user-defined tags that can be used by any application for special needs. The format of a tag is `tag_name:tag_value`. The original format does not specify any tag - all are considered custom ones.\n\nTTDL supports a few custom tags:\n\n- `due` - a todo's due date. The tag value is in format YYYY-MM-DD;\n- `t` - a todo's threshold date. The tag value is in format YYYY-MM-DD;\n- `rec` - makes a todo recurrent. It makes sense only when using along with `due` tag. The tag value is the number of time intervals and one-character time interval name: `d` - every few days, `w` every few weeks, `m` - every few months, `y` - every few years. Examples: `1w` - a weekly todo, `5d` - every 5 days.\n- `h` - mark a task hidden if the value of the tag is not `0`. Hidden tasks are skipped by default by all commands except autocompletion support. It allows a user to keep a hidden task with all projects and contexts for shell auto-completion without spoiling the regular tasks with unrelated contexts and projects.\n\nYou can add any number of arbitrary tags to a todo. To edit them, use `--set-tag`(add new tags or replace existing ones) or `--del-tag`(to remove tags from a todo) options.\n\n### Hashtags\n\nSometimes you need to add one or few extra attributes to a todo, but you do not want to introduce any new contexts or projects.\nTags do not work in this case as they require value: you cannot create a tag with empty value.\nTo deal with it, use hashtags. Hashtags is a todo words that start with the symbol `#`.\nExample: in a todo `buy tickets to #hockey game` there is one hashtag `#hockey`.\n\nUse command-line options `--hashtag` to filter todo list, `--set-hashtag` to add new hashtags, `--del-hashtag` to remove hashtags, `--repl-hashtag`to replace existing hashtags.\nThe command `--repl-hashtag` does not append a new hashtag if the todo does not include the hashtag to be replaced.\n\n### Time tracking\n\nTTDL version 0.5.0 introduced time tracking feature. It consists of two new commands `start` to activate time tracking for a given todo, and `stop` to stop time tracking and update todo's time taken.\n\nThe `list` command adds an extra column `Spent` that displays total time the todo has taken by the current time.\n\n### Statistics\n\nCommand `stats` displays general statistics followed by detailed one. If you need only general one use option `--short`.\n\nGeneral statistics includes the total numbers of all todos, completed, overdue, recurrent todos, and todos that missed threshold date. For the all numbers, except the total number of all todos, the percentage of all todos is displayed in parentheses. Example:\n\n```shell\nTotal todos:          8\nDone:                 1 (12%)\nOverdue:              2 (25%)\nRecurrent:            1\n```\n\nDetailed statistics groups all todos by projects and contexts and prints the subtotals for all of them. Note: because of todos can have no project or have more than one project or context, the total number of all todos is usually not equal to sum of all subgroups. Example:\n\n```shell\nProject         Context    Total      Done       Overdue    Spent\n                              8(100%)    1( 12%)    2( 25%) 3.1m\n-----------------------------------------------------------------\nchapelshelving                2( 25%)    1( 50%)\n                chapel        1( 50%)    1(100%)\n                shelve        1( 50%)\n-----------------------------------------------------------------\nmyproj                        1( 12%)               1(100%)\n                bug           1(100%)               1(100%)\n                ui            1(100%)               1(100%)\n```\n\n#### Notes\n\n1. The first line with number is a grand total for the entire todo list\n2. In the example above, there are total 8 todos, but only 3 of them have project tags. And `myproject` project has only one todo with 2 context tags\n3. For project headers (lines which have some project and empty context) the percentage is calculated from all todos, for context totals the percentage is calculated from project total todos\n4. Done and overdue percentage is always calculated from the total of the current line\n5. Spent time adds low-cased letters for time spans less than a day (s - seconds, m - minutes, h - hours), and upper-cased letter for longer spans (D - days, M - months, Y - years).\n\n### Custom formatting\n\nThe feature is introduced in version 0.8: when executing command `list` TTDL may call an external application\n(a \"plugin\") to transform the description and/or tags. If the plugin finishes successfully\nand its output is valid JSON string, `TTDL` combines values from the output and prints it instead of\ndefault description. Only description can be changed by plugins, other columns like \"priority\" are fixed ones.\n\nA plugin is a executable shell script or binary with name that follows TTDL rules. Every plugin receives\na single argument - JSON as a string, a plugin must print modified or original JSON to standard output.\n\nIf any plugin does not exist, fails or returns invalid JSON, TTDL prints the error to standard error output\nand displays the unchanged original todo description. Otherwise, TTDL joins description and tags, and prints\nthe result.\n\nA todo can contain any number of plugin \"calls\". They are executed in order of appearance in original\ndescription. The result of a current call is passed to the next plugin only if the next plugin name is\nstill in the result - a plugin can remove any tags in the result to make TTDL ignore the other plugins.\nSo, any plugin can disable any other plugins if it removes their tags from the result.\n\n#### How to enable custom formatting\n\nTo enable custom formatting, a todo must include at least one tag which name starts with symbol `!`.\nThe tag name without `!` is the plugin name(and the last part of the file name to call). By default\nThe full name of the file to execute is `ttdl-` + plugin name. A configuration file contains settings\nin `global` section that affects file name:\n\n- `script_ext` - value is used as a file name extension. If the value does not start with '.', the\n  dot is added automatically. Default is empty value - no extension is added.\n  Example: for `!tagname:value` and `script_ext=sh`, the script name is `tagname.sh`;\n- `script_prefix` - its value is added before the tag name. It makes possible to, e.g., keep scripts\n  in a separate directory or create a subgroup of scripts. Another usage is for Windows\n  PowerShell: executing `tagname.ps1` may fail, because PowerShell wants a user to explicitly say\n  that the script is in the current directory, so you have to set `script_prefix=\"./\"` to be able to\n  run PowerShell scripts from the current directory. Do not forget to add `/` at the of the prefix\n  if it is a directory name - TTDL cannot decided automatically if it is a part of filename or\n  a directory.\n\nRelated configuration setting defines what shell executes the script:\n\n- `shell` - sets the shell to execute a binary/script. If not set, TTDL uses `[\"cmd\", \"/c\"]` on Windows,\n  and `[\"sh\", \"-cu\"]` on other OS. If you want to use PowerShell on Windows, change the value to `[\"powershell\", \"-F\"]`;\n\n#### Plugin interaction\n\nTTDL pipes a JSON with tags and optional items of a todo that is going to be displayed to a\nplugin's standard input. A plugin must read STDIN and after processing the JSON, the plugin\nmust print the result to STDOUT in the JSON format. If a plugin does not need to change anything,\nit must print it as is. If any plugin fails to execute or produces invalid JSON, the error is\nprinted to standard error and the original todo text is displayed.\n\nThe first script always gets JSON with all todo's tags and optional fields.\nThree obligatory fields in the first request(a plugin may remove any of those fields):\n\n- `description` - original todo's description that TTDL would print by default, plugins can modify it;\n- `optional` - original todo's optional elements (`done`, `pri`, `created`, and `finished`);\n- `specialTags` - an array of all tags and their values extracted from the todo. NOTE: if a currently\n  running plugin removes a tag that belongs to a plugin that have not run yet, that plugin will be\n  skipped because its tag is missing in `specialTags` at the moment when the plugin is going to run.\n\nAll the next plugins receive a JSON returned by a previous plugin. A plugin must return the modified or\noriginal JSON by printing it to standard output. TTDL constructs and displays the modified\ndescription returned by the very last plugin. If the final result includes any field it is displayed\nas is from the JSON, otherwise the original value is printed with default formatting. That makes it\npossible to, e.g., change \"done\" mark and replace default `x` with `√`, or you can format dates using\nyour native language(e.g., display `10 Sep` instead of `2020-09-10`).\n\nA plugin may add or remove any fields in resulting JSON, that allows plugins to communicate. The only\nrequirement is that the result should include all fields above.\n\n#### Notes\n\n1. While it is OK to set any value to an existing field, the output is limited with the current\n   column width (only `description` is displayed in full). E.g., if a plugin changes value of\n   `created` to `12 December 2019`, in terminal TTDL prints either first 10 (default settings)\n   or 8 characters(when relative dates are enabled).\n2. All dates passed to the first plugin in JSON are always in format `YYYY-MM-DD` for easy\n   parsing. So, even if relative dates are enabled, a plugin gets in default format.\n3. All values presented in result JSON are printed as is, while all missing values are printed\n   with current format settings.\n4. Removing a tag from `specialTags` hashmap does not remove the tag from the subject.\n   If you want to remove a tag, set its value to an empty string.\n\n#### Example\n\nLet's assume, the configuration has option `script_ext = \".ps1\"`, and there is the following line in todo.txt:\n\n```shell\n# D P Created    Finished   Due        Subject\n-----------------------------------------------\n1                           2023-06-15 fix bug due:2023-06-15 spent:40 !hidedue:abc\n-----------------------------------------------\n1 todos (of 1 total)\n```\n\nWe want to do a few things when a todo contains `!hidedue` tag:\n\na) remove `due` tag and `!hidedue` tags;\nb) change `spent` tag value to `0`;\nc) add a new tag `status` with value `fixed`\n\nLet's create a powershell plugin to fulfill the task. \n\nTTDL detects a tag with leading `!` and the plugin engine kicks in.\nThe tag name is `!hidedue`. The script name is build from the tag name without character `!`, `script_ext`, and `script_prefix`.\nAll plugin names must start with `ttdl-`. The default value for `script_prefix` is `./`.\nIt makes the script name `./ttdl-hidedue.ps1`.\n\nDISCLAIMER: I am no powershell expert. That is why I believe the script can be made simpler and shorter.\nBut the script does its job and it is good enough to be a starting point.\n\nThe content of the `ttdl-hidedue.ps`:\n\n```powershell\n# TTDL sends every task one by one as a JSON to a script through a pipe.\n# In powershell opened STDIN pipe is access via system variable `$input`\n\n# 1. Read the STDIN and convert it into JSON\n$obj = $input | ConvertFrom-Json\n$do_fix = 'false'\n# 2. JSON objects are PSObjects, let's convert them into Powershell hashtables\n$obj.specialTags = $obj.specialTags | ForEach-Object {\n\t$h = @{}\n\t$_.PSObject.properties | ForEach-Object {\n\t  $h[$_.Name] = $_.Value\n\t}\n\t$h\n}\n# 3. Check if a task includes the tag '!hidedue'. Its value must be non-empty.\nforeach($item in $obj.specialTags) {\n  if ($item.\"!hidedue\" -ne \"\") {\n     $do_fix = 'true'\n  }\n}\n# 4. If the tag '!hidedue' found do the following:\nif ($do_fix -eq 'true') {\n    # A. remove due tag\n\t$obj.specialTags | Where {$_.due} | ForEach{$_.due = ''}\n    # B. remove `!hidedue` tag as well\n\t$obj.specialTags | Where {$_.\"!hidedue\"} | ForEach{$_.\"!hidedue\" = ''}\n    # C. set tag `spent` value to zero\n\t$obj.specialTags | Where {$_.spent} | ForEach{$_.spent = '0'}\n    # D. add a new tag `status` with value `fixed`\n\t[hashtable]$objectProperty = @{}\n\t$objectProperty.Add('status', 'fixed')\n\t$object = New-Object -TypeName psobject -Property $objectProperty\n\t$obj.specialTags += $object\n}\n# 5. Write the resulting JSON to the STDOUT pipe, so TTDL picks up the changes\nWrite-Output (ConvertTo-Json $obj)\n```\n\nNow TTDL opens the script and writes JSON into scripts STDIN:\n\n```json\n{\"description\": \"fix bug due:2023-06-15 spent:40 !hidedue:abc\",\n    \"optional\": [ {\"done\": \"  \" }, {\"pri\": \"  \"} ],\n    \"specialTags\": [ {\"due\": \"2023-06-15\"}, {\"spent\": 40}, {\"!hidedue\": \"abc\"} ]}\n```\n\nAfter the plugin processes the input it prints out to STDOUT the resulting JSON:\n\n```json\n{\"description\": \"fix bug due:2023-06-15 spent:40 !hidedue:abc\",\n    \"optional\": [ {\"done\": \"  \" }, {\"pri\": \"  \"} ],\n    \"specialTags\": [ {\"due\": \"\"}, {\"spent\": 0}, {\"!hidedue\": \"\"}, {\"status\": \"fixed\"} ]}\n```\n\nTTDL picks up the result, updates the subject and columns and prints the following:\n\n```\n# D P Created    Finished   Due        Subject\n-----------------------------------------------\n1                                      fix bug spent:0 status:fixed\n-----------------------------------------------\n1 todos (of 1 total)\n```\n\n### Extra features\n\nEach command that modifies todo list supports dry run mode. The mode is enabled with an option `--dry-run`. When executing `ttdl` with the option, it finds out which todos would be changed after the command completes, then displays existing todos and their new values.\n\nBy default TTDL outputs the todo list in long mode and uses colors. To disable colors, use an option `--no-colors`. To make the output shorter, use an option `--short` to show only a few the most important fields(ID, completion mark, priority, and subject), or choose which fields to display with an option `--fields`: a comma-separated list of fields.\n**NOTE**: the option `--fields` defines only a field visibility, but not its order. So, `--fields=pri,due` and `--fields=due,pri` result in the same output. A list of available field(column) names:\n\n- `id` - task's ID column\n- `done` - column with `x` marks for done tasks\n- `pri` - priority column\n- `created` - column with task creation date\n- `finished` - column with task finish date\n- `due` - column with due date\n- `thr` - column with threshold date\n- `spent` - column with total time spent on the task\n- `uid` - column to display user-defined tag `id` value (e.g, for task `do not forget to register online with id:ABD-245`, TTDL displays `ABD-245` in `UID` column)\n- `parent` - task parent's ID column\n- `prj` - columns with task projects (comma-separated list)\n- `ctx` - columns with task contexts (comma-separated list)\n\nFor easier reading due date, there is an option `--human` that turns dates into relative dates. So, due date 2018-11-11 can turn into `in 3d` (if the current date is 2018-11-08) or into `3d overdue`(if the current date is 2018-11-14). Using an option `--compact` makes the output even shorter: it removes all `in`s and `overdue`s. To understand whether a todo is overdue or not, just check its color: overdue ones are drawn in red color(unless you used the option `--no-colors` or modified color in TTDL config). Option `--human` supports a list of fields to show as relative ones: `ttdl l --human=\"due\"`.\n\n#### Syntax highlight\n\nFor better readability you can enable syntax highlighting when printing todo's subject.\nThe highlighting is disabled by default.\nTo enable it, either pass `--syntax` option  in the command line or turn it on in TTDL configuration file (see example in provided `ttdl.toml`, section `[syntax]`).\nAlso you can disable temporary syntax highlighting if it is enabled in the configuration by passing the command-line option `-no-syntax`.\n\nBesides turning highlighting on and off, the configuration allows tuning the keyword colors. Default colors for keywords are:\n\n- tag color is bright cyan\n- hashtag color is cyan\n- project color is bright green\n- context color is green\n\n#### Hide duplicated info\n\nTTDL prints the task's subject as-is. It can result in duplicated information.\nE.g, by default `Due` column shows task's due date.\nAt the same time, the due date is also displayed in the column `Subject` in a form `due:2000-01-01`.\nYou can override this application behavior by either passing command-line option `--clean-subject` or modifying the configuration file - change the option `global.clean_subject`.\nPossible values:\n\n- `none`, `no` or `nothing` - the default mode: subjects are printed as-is\n- `tags` - hide only tags from the output, but keep duplicated `prj` and `ctx` entities even if you enabled columns for them\n- `all` or `yes` - filter out all duplicated stuff from subjects\n\n##### The example of how the option affects the output\n\nLet's assume, we have the following `todo.txt` file:\n\n```\n+food @drink buy milk at shop due:2023-05-08\n```\n\nNow, let's try various combinations of fields and `clean-subject` option.\nThe output is minimized to show only affected lines:\n\n```console\n# Default output with 'clean-subject=no`\n$ ttdl --fields=pri,due,prj,ctx\n. P Due        Project  Context Subject\n-----------------------------------------\n1   2023-05-08 food    drink   +food @drink buy milk at shop due:2023-05-08\n\n# Hide only duplicated tags: 'due' entity is gone from 'Subject'\n$ ttdl --fields=pri,due,prj,ctx --clean-subject=tags\n# P Due        Project Context Subject\n----------------------------------------\n1   2023-05-08 food    drink   +food @drink buy milk at shop\n\n# Hide all duplicated stuff: due, project, and context are gone\n$ ttdl --fields=pri,due,prj,ctx --clean-subject=all\n# P Due        Project Context Subject\n----------------------------------------\n1   2023-05-08 food    drink   buy milk at shop\n\n# Hide all duplicated stuff and disable 'Context' column. Now '@drink' remains in the subject\n$ ttdl --fields=pri,due,prj --clean-subject=all\n# P Due        Project Subject\n --------------------------------\n1   2023-05-08 food    @drink buy milk at shop\n```\n\n### Human-readable dates\n\nIn addition to human-readable output, TTDL supports setting due and threshold dates in human-readable format.\nBoth ways work: setting them in a string with `due:` and `t:` and in subcommands `--set-due` and `set-threshold`.\nBecause due and threshold dates cannot be set in the past, rules for setting and displaying dates differs.\nPlease note, that human-readable dates are replaced with absolute dates when saving to todo file.\nIn the beginning you can play with human-readable dates without worrying about damaging existing todos by adding `--dry-run` to commands.\nThis way only displays the content but does modify anything.\n\nThe list of supported abbreviations (more can be added in the future if needed):\n\n| Abbreviation             | Date                                                                                                                                                                 |\n| ------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| `today`                  | Today's date                                                                                                                                                         |\n| `#`                      | `#` stands for a positive number - sets date to `#` day of the current or next month                                                                                 |\n| `#-#`                    | `#-#` stands for a \"month-day\" - if this day of the current year is in the past it sets due date to the \"next_year-month-day\" and \"current_year-month-day\" otherwise |\n| `tm`, `tmr`, `tomorrow`  | Tomorrow's date                                                                                                                                                      |\n| `#d`                     | `#` is a positive number: in `#` days                                                                                                                                |\n| `#w`                     | `#` is a positive number: in `#` weeks                                                                                                                               |\n| `#m`                     | `#` is a positive number: in `#` months                                                                                                                              |\n| `#y`                     | `#` is a positive number: in `#` years                                                                                                                               |\n| `mo`, `mon`, `monday`    | nearest Monday in the future                                                                                                                                         |\n| `tu`, `tue`, `tuesday`   | nearest Tuesday in the future                                                                                                                                        |\n| `we`, `wed`, `wednesday` | nearest Wednesday in the future                                                                                                                                      |\n| `th`, `thu`, `thursday`  | nearest Thursday in the future                                                                                                                                       |\n| `fr`, `fri`, `friday`    | nearest Friday in the future                                                                                                                                         |\n| `sa`, `sat`, `saturday`  | nearest Saturday in the future                                                                                                                                       |\n| `su`, `sun`, `sunday`    | nearest Sunday in the future                                                                                                                                         |\n\n1. All day of week abbreviations never set today's date. So, if the current date is Monday, `due:mon` sets the due date to the next Monday.\n2. `#d`, `#w`, `#m`, and `#y` are addictive and can be grouped. Moreover, you can use the same abbreviation as many times as you want. Examples: `due:3d4d` is the same as `due:1w`; and `due:1w1d` is the same as `due:11d`\n3. `#m` and `#y` does not add a constant number of days to the current date. They increase the month and year respectively with one extra rule:\n   if current date is the last day of the month, the new date is the end of the month as well. E.g., `due:1m` when current date is `2020-02-29` sets due date to `2020-03-31`.\n4. `#` and `#-#` never sets the date in the past. So, if `#` is less than the current day of month, the resulting date is in the next, otherwise it is in the current period(month for `#`, year for `#-#`). The same rule about the last day of month as in `3.` is applied here: `due:29` for current date `2020-02-29` sets due date to `2020-03-31`.\n5. `#` and `#-#` accept values for a day in a range `[1..31]`, bigger numbers cause errors. If day number is greater than the number days in a month, the last day of the month is set. So, it is safe to use `due:31` for any month to set due date to the last day of the month. Examples: `due:31` for date `2020-02-05` sets the due date to `2020-02-29`, and `due:02-31` sets due date to `2020-02-29`.\n\n### Custom columns\n\nTags are useful to keep extra information but even with syntax highlighting it may be hard to spot a certain tag inside a long subject.\nCustom columns allows you to display values of selected tags in a separate columns for better readability.\nIn addition, it is possible to define rules to set the output color depending on a tag value.\n\nTwo steps to enable custom columns:\n\n1. Define all custom columns in the configuration file: add an array of `[[fields]]` to the configuration. Optionally, add highlight rules for columns as an array `[[fields.rules]]`.\n2. New columns are hidden by default. To show them, pass `--fields=field1,field2` in the command line.\n\nCustom field quirks and limitations\n\n- Every column has 5 properties: name, title, kind, width, and highlight rules. All of them, except highlight rules are mandatory. The property `width` can be set to `0` - in this case its width is chosen by TTDL\n- At this moment, automatic width does not check all values of a tag to calculate its maximal width. It just sets the width depending on the column kind. So, except  columns of `date` kind, the other column widths probably would be too wide or too short most of the time\n- TTDL does basic check for custom columns properties: the `color` must be valid; the `kind` must be one of `str`(its alias is `string`), `int`(its alias is `integer`), `float`, `date`, `duration`, and `bytes`; if `width` is not `0`, the length of `title` must be equal to or less than `width`\n- If a value is too long, it is truncated to the column `width` - no word wrap for custom columns\n- Custom columns are always displayed after the built-in ones and the order is the same in which they are defined in the configuration file\n- Highlight rules provide two properties: `range` and `color`. The property `range` can be on of three types: empty string - it matches any value, list of values separated with a comma - a tag value must equal any of the list values, range - two values separated with `..`(open ranges like `..5` or `5..` are allowed)\n- All rules are tested in the order of their declaration in the configuration file\n- Both ends of a range are inclusive. But because of the previous bullet point, you can simulate non-inclusive ends. E.g, defining `4..` rule before `0..4` makes the latter rule non-inclusive(i.e, it becomes equal to `>=0 && < 4` because `4` always matches the former rule `>= 4`)\n- For columns of `duration` kind you can set human-readable duration and TTDL compares them correctly. Available suffixes: `w` - a week, `d` - a day, `h` - an hour, `m` - a minute, `s` - a second. As a rule, `s` can be omitted - a value without any suffixes is considered as a value in seconds. A tag value can include any number of intervals in any order, e.g, `89m1d5` is the same as `1d1h29m5s` or one day and one hour and 29 minutes and 5 seconds\n- For columns of `bytes` kind you can standard suffixes. One letter ones: `k`, `m`, `g`, `t`, `p`, `e`. Two letter ones: `kb`, `mb`, `gb`, `tb`, `pb` , `eb`. Three letter ones: `kib`, `mib`, `gib`, `tib`, `pib`, `eib`. Note: at this moment all suffixes are multiple of `1024`, so `k` = `kb` = `kib` = `1024 bytes`. A value without suffixes is in bytes. In opposite to `duration`, this kind of values can have only one suffix. So, e.g., `1mb2kb` is invalid value and it is treated as an empty value\n- Rules for `date` columns can include special dates: `yesterday`, `today`, `tomorrow`, `soon`(currently it is today + 7 days), `last` - the last day of the month, `first` - the first day of the month, day of week(`friday` - this upcoming Friday). It makes rules more flexible\n- While rules for `date` column support special dates, the tag value must be a date in format `YYYY-MM-DD`.\n\n#### Custom column example\n\nLet's assume, you manage a team that includes you(`me`), technical writer(`Tina`), two junior developers(`Mike` and `Andy`), and a few middle developers.\nA task can have an estimation time and contain a day when you should check how the task is going (it is not the same as due date).\n\nFor person responsible for a task you choose a tag `who:`(kind `string`), for estimation time - a tag `est:`(kind `duration`), and for check date - a tag `chk:`(kind `date`).\n\nNow let's add colors to quickly read todos. You want to mark your tasks with red color, juniors' with bright blue color, documentation tasks are green color, the rest tasks has default color.\nLet's also separate tasks by estimated time:\n\n- green color for tiny tasks (less than or equal to 1 hour)\n- blue color for small tasks (between 1 hour and 4 hours)\n- red color for huge tasks (1 week or longer)\n\nThe last highlight is for check date. Overdue checks are red.\nChecks that should be done first(i.e, they are coming today or `soon`) are bright yellow.\n\nNow open `ttdl.toml` and add the custom columns with rules to it:\n\n```toml\n[[fields]]\nname = \"who\" # tag name\ntitle = \"Who\" # Title of the column in the output\nkind = \"string\" # type of the tag value. If you are not going to use `fields.rules`\n                # for coloring, it is safe to set `string` kind for every column.\nwidth = 8 # column width\n[[fields.rules]]\nrange = \"Tina\"\ncolor = \"green\"\n[[fields.rules]]\nrange = \"Andy,Mike\" # either of juniors: Andy or Mike\ncolor = \"bright blue\"\n[[fields.rules]]\nrange = \"me\" # my tasks\ncolor = \"red\"\n\n[[fields]]\nname = \"est\"\ntitle = \"Estimate\"\nkind = \"duration\"\nwidth = 8\n[[fields.rules]]\nrange = \"..1h\"  # shorter than or equal to 1 hour\ncolor = \"green\"\n[[fields.rules]]\nrange = \"1h..4h\" # >= 1 hour and <= 4 hours\ncolor = \"blue\"\n[[fields.rules]]\nrange = \"1w..\" # 1 week or longer\ncolor = \"red\"\n\n[[fields]]\nname = \"chk\"\ntitle = \"Check\"\nwidth = 0\nkind = \"date\"\n[[fields.rules]]\nrange = \"..yesterday\" # overdue check\ncolor = \"red\"\n[[fields.rules]]\nrange = \"today..soon\" # between today and today+7 days, inclusive\ncolor = \"bright yellow\"\n```\n\nLet's assume that today is `2022-12-31` and your `todo.txt` looks like this:\n\n```\n2022-10-10 update docs est:1w who:Tina chk:2023-01-09\n2022-07-20 design mail server who:me est:1d4h\n2022-07-25 fix crash in logger est:2h who:John\n2022-10-10 upgrade dependencies who:Mike est:4h chk:2022-12-27\n2022-10-11 write test for new API call who:Andy est:1h chk:2023-01-03\n```\n\nAfter that, if your the command `ttdl --fields=who,est,chk`, you'll see this output in the terminal window:\n\n<img src=\"./images/custom-columns.png\" alt=\"Custom columns\">\n\n## Command line examples\n\nBy default todos from a given range are processed only if they are incomplete. To process all(both done and incomplete), add an option `--all` or `-a`. To process only done todos, add an option `-A`. NOTE: the only exception is the command `clean`|`archive`, it enables option `-A` automatically if `--all` is not present in command line.\n\n### List and filter\n\n| Command                    | Description                                                                                                                      |\n| -------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |\n| `ttdl l 2`                 | show a single todo with ID 2                                                                                                     |\n| `ttdl l 2-5`               | show todos with ID from 2 through 5                                                                                              |\n| `ttdl l 2,5`               | show only todos with ID 2 and 5                                                                                                  |\n| `ttdl l -s=proj,pri`       | show all todos sorted by their project and by priority inside each project                                                       |\n| `ttdl l \"car*\"`            | list todos which have substring `car*` in their subject, project or context                                                      |\n| `ttdl l \"car*\" -e`         | list todos which have subject, project or context matched regular expression `car*`                                              |\n| `ttdl l \"car\"`             | list todos which have substring `car` in their subject, project or context                                                       |\n| `ttdl l --pri=a`           | show todos with the highest priority A                                                                                           |\n| `ttdl l --pri=b+`          | show todos with priority B and higher (only A and B in this case)                                                                |\n| `ttdl l +car +train`       | show todos which related either to `car` or to `train` projects                                                                  |\n| `ttdl l +my* @*tax`        | show todos that have a project tag starts with `my` and a context ends with `tax`                                                |\n| `ttdl l --due=tomorrow`    | show todos that are due tomorrow                                                                                                 |\n| `ttdl l --due=soon`        | show todos which are due in less than a few days, including overdue ones (the range is configurable and default value is 7 days) |\n| `ttdl l --due=overdue`     | show overdue todos                                                                                                               |\n| `ttdl l --due=none`        | show todos that does not have due date                                                                                           |\n| `ttdl l --due=today`       | show todos that are due today                                                                                                    |\n| `ttdl l +myproj @ui @rest` | show todos related to project 'myproj' which contains either 'ui' or 'rest' context                                              |\n### Add a new todo\n\n| Command                                                                       | Description                                                                     |\n| ----------------------------------------------------------------------------- | ------------------------------------------------------------------------------- |\n| `ttdl a \"send tax declaration +personal @finance @tax due:2018-04-01 rec:1y\"` | add a new recurrent todo(yearly todo) with a due date first of April every year |\n\n### Done (undone)\n\n| Command      | Description                               |\n| ------------ | ----------------------------------------- |\n| `ttdl d 2-5` | mark todos with IDs from 2 through 5 done |\n\n### Clean up the list\n\n| Command                   | Description                                                                                         |\n| ------------------------- | --------------------------------------------------------------------------------------------------- |\n| `ttdl rm 2-5`             | delete incomplete todos with IDs from 2 through 5                                                   |\n| `ttdl rm 2-5 -a`          | delete both done and incomplete todos with IDs from 2 through 5                                     |\n| `ttdl rm 2-5 -A`          | delete all done todos with IDs from 2 through 5                                                     |\n| `ttdl clean 2-5 --wipe`   | delete all completed todos with IDs from 2 through 5. It does the same as the previous command does |\n| `ttdl clean 2-5`          | move all completed todos with IDs from 2 through 5 to done.txt                                      |\n| `ttdl clean --keep-empty` | move all completed todos to done.txt and erase empty todos from todo.txt                            |\n| `ttdl clean --keep-empty` | move all completed todos to done.txt and keep empty todos in todo.txt                               |\n\n### Modify todo list\n\n| Command                                      | Description                                                                                                                                |\n| -------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |\n| `ttdl e 2-5 \"new subject\"`                   | only the first incomplete todo with ID between 2 and 5 changes its subject (in this case todo with ID equals 2 gets subject \"new subject\") |\n| `ttdl e +proj --repl-ctx=bug1010@bug1020`    | replace context `bug1010` with `bug1020` for all incomplete todos that related to project `proj`                                           |\n| `ttdl e @customer_acme --set-due=2018-12-31` | set due date 2018-12-31 for all incomplete todos that has `customer_acme` context                                                          |\n| `ttdl e @customer_acme --set-due=none`       | remove due date 2018-12-31 for all incomplete todos that has `customer_acme` context                                                       |\n| `ttdl e --pri=none --set-pri=z`              | set the lowest priority for all incomplete todos which do not have a priority set                                                          |\n| `ttdl e @bug1000 --set-pri=+`                | increase priority for all incomplete todos which have context `bug1000`, todos which did not have priority set get the lowest priority `z` |\n| `ttdl postpone 3 5d`                         | push back due date of task #3 by 5 days                                                                                                    |\n\n### Use human-readable dates\n\nAll examples are for the current date `2020-07-11`\n\n| Command                            | Description                                                                                  |\n| ---------------------------------- | -------------------------------------------------------------------------------------------- |\n| `ttdl \"fix by monday due:mon\"`     | Adds a new todo with a content `fix by monday due:2020-07-13`                                |\n| `ttdl \"update docs t:1m due:1m2w\"` | Adds a new todo with a content `update docs t:2020-08-11 due:2020-08-25`                     |\n| `ttdl e 3 --set-due 1m`            | Updates the third todo with new due date `2020-08-11`                                        |\n| `ttdl e 3 --set-due 1m`            | For the current date `2020-02-29` it sets due date to the end of the next month `2020-03-31` |\n\n### Show all project or context tags\n\n| Command                | Description                               |\n| ---------------------- | ----------------------------------------- |\n| `ttdl lc`              | show all context tags                     |\n| `ttdl listcon @phone*` | show all context tags starting with phone |\n| `ttdl lp`              | show all project tags                     |\n| `ttdl listproj +*car*` | show all project tags containing _car_    |\n\nThese commands could be used to implement tag completion in your editor / shell."
}
