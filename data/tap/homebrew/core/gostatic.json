{
  "name": "gostatic",
  "full_name": "gostatic",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Fast static site generator",
  "license": "ISC",
  "homepage": "https://github.com/piranha/gostatic",
  "versions": {
    "stable": "2.36",
    "head": "HEAD",
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://github.com/piranha/gostatic/archive/2.36.tar.gz",
      "tag": null,
      "revision": null,
      "checksum": "a66e306c0289bac541af10cb88acc9b9576153de5d4acec566c3f927acefd778"
    },
    "head": {
      "url": "https://github.com/piranha/gostatic.git",
      "branch": "master"
    }
  },
  "revision": 0,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 0,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42",
          "sha256": "fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42"
        },
        "arm64_monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42",
          "sha256": "fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42"
        },
        "arm64_big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42",
          "sha256": "fee49b6f3e2a28ea13f71e318c63fdccfbfeea301290623c741602b4ba7efa42"
        },
        "ventura": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842",
          "sha256": "702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842"
        },
        "monterey": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842",
          "sha256": "702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842"
        },
        "big_sur": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842",
          "sha256": "702b45e745c213901ee9bac69898a39fca340055bea4257ed12967563990d842"
        },
        "x86_64_linux": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/gostatic/blobs/sha256:3fc806119828adc0ed8433ff0dfdb9573f76bac686ffa19d368726d978d7aacb",
          "sha256": "3fc806119828adc0ed8433ff0dfdb9573f76bac686ffa19d368726d978d7aacb"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [
    "go"
  ],
  "dependencies": [],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": false,
  "disable_date": null,
  "disable_reason": null,
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "4eeae4ea50839e967536ba646d5e0ed6fbcbad7f",
  "ruby_source_path": "Formula/gostatic.rb",
  "ruby_source_checksum": {
    "sha256": "38f4f98504be1e43680ffd603b059de3fc00db798f1e0db3d099fa61f9644710"
  },
  "date_added": "2020-08-11T07:29:20+00:00",
  "readme": "# gostatic\n\nGostatic is a static site generator. It tracks file changes during compilation,\nwhich is why it works reasonably [fast](#speed). Also it provides framework for\n[configuration](#configuration) akin to Make, which makes it easy to understand\nand to write custom configurations.\n\nFeatures include:\n\n - No run-time dependencies, just a single binary - [download](https://github.com/piranha/gostatic/releases/) it and run\n - Dependency tracking and re-rendering only changed pages\n - Markdown support - [Commonmark](https://commonmark.org/) via [goldmark](https://github.com/yuin/goldmark/)\n - Simple [config syntax](#configuration)\n - Flexible [filter system](#processors)\n - Support for pagination\n - Plays well with external commands and scripts\n - HTTP server and watcher (instant rendering on changes)\n - Suitable for automation (ability to query state with `gostatic --dump`)\n\nAnd all in all, it works nicely for me, so it may work for you!\n\n## Installation\n\nJust download a binary from [releases page](https://github.com/piranha/gostatic/releases).\n\nIf you need to automate downloading latest release, I use this script (change\n`64-linux` to the type you need):\n\n```\nURL=$(curl -s https://api.github.com/repos/piranha/gostatic/releases | awk '/download_url.*64-linux/ { print $2; exit }')\ncurl -Lso gostatic $(URL)\nchmod +x gostatic\n```\n\nWhen downloading in Macos, your file will be quarantined and to use it you'll\nhave to assure Macos you know what you're doing:\n\n```\nxattr -r -d com.apple.quarantine gostatic\n```\n\nObviously, `go get https://github.com/piranha/gostatic` also works, if you want\nto compile from source.\n\n\n## Quick Start\n\nRun `gostatic -i my-site` to generate basic site in directory `my-site`. It will\nhave a basic `config` file, which you should edit to put relevant variables at\nthe top - it also contains description of how files in your `src` directory are\ntreated.\n\n`src` directory obviously contains sources of your site (name of this directory\ncan be changed in `config`). You can follow general idea of this directory to\ncreate new blog posts or new pages. All files, which are not mentioned in\n`config`, are just copied over. Run `gostatic -fv config` to see how your `src`\nis processed.\n\n`site.tmpl` is a file that defines templates your are able to use for your\npages. You can see those templates mentioned in `config`.\n\nAnd, finally, there is a `Makefile`, just for convenience. Run `make` to build\nyour site once or `make w` to run watcher and server, to see your site changes\nin real time.\n\nAlso, you could look at [my site](https://github.com/piranha/solovyov.net) for\nan example of advanced usage.\n\nGood luck! And remember, your contributions either to gostatic or to\ndocumentation (even if it's just this `README.md`) are always very welcome!\n\n## Documentation index:\n\n- [Approach](#approach)\n- [Speed](#speed)\n- [External Resources](#external-resources)\n- [Configuration](#configuration)\n  - [Constants](#constants)\n- [Page Config](#page-config)\n- [Processors](#processors)\n- [Template API Reference](#template-api-reference)\n  - [Global Functions](#global-functions)\n  - [Page interface](#page-interface)\n  - [Page list interface](#page-list-interface)\n  - [Site interface](#site-interface)\n- [Extensibility](#extensibility)\n\nAlso, see [wiki](https://github.com/piranha/gostatic/wiki) - and feel free to\nadd more information there!\n\n## Approach\n\nEach given file is processed through a pipeline of filters, which modify the\nfile state and then rendered on disk. Single input file corresponds to a single\noutput file, but filters can generate virtual input files (like tag files).\n\nFile is rendering in those cases:\n\n- output file does not exists\n- file source is newer than it's output\n- one of those is the case for one of file's dependencies\n\nAll files are sorted by date. This date is taken in their [config](#page-config)\nor, in case if date in config is absent or dates there are equal, by file\nmodification time.\n\n## Speed\n\n| Box                       | Pages |  Full |  Noop |      Single post |\n|:--------------------------|------:|------:|------:|-----------------:|\n| Macbook Air '15 (i7)      |   630 | 450ms | 100ms | 160ms (93 pages) |\n| Macbook Air '15 (i7)      |   250 | 180ms |   n/a |              n/a |\n| Macbook Air '20 (M1)      |   486 | 185ms |  39ms | 140ms (97 pages) |\n| Hetzner CX21 (2 vCPU/4GB) |   486 | 502ms |  89ms | 414ms (97 pages) |\n\nThis are results of forced full site rebuild, then checking there are no\nmodification, and then re-rendering a single changed page (along with pages\nwhich depend on this page).\n\nAlso note that if you're using various external post-processors (like uglifyjs\nor sassc) they tend to slow down things a bit (for my specific use case both\nuglifyjs and sassc add another `0.25s` when files they process change).\n\nTo reproduce numbers, [download hyperfine][], [download gostatic][], clone\n[solovyov.net][], comment out `:google-closure-compiler` in `config` and then run:\n\n- `hyperfine 'gostatic -f config'`\n- `hyperfine 'gostatic config'`\n- `hyperfine 'touch src/blog/2017/fuji-raw.md && gostatic config'`\n\n[download hyperfine]: https://github.com/sharkdp/hyperfine/releases\n[download gostatic]: https://github.com/piranha/gostatic/releases\n[solovyov.net]: https://github.com/piranha/solovyov.net\n\n## External resources\n\n - Jack Pearkes made a [Heroku buildpack][] for gostatic.\n\n[Heroku buildpack]: https://github.com/pearkes/heroku-buildpack-gostatic\n\n## Configuration\n\nConfig syntax is Makefile-inspired with some simplifications, look at the\nexample:\n\n```Makefile\nTEMPLATES = site.tmpl templates-folder\nSOURCE = src\nOUTPUT = site\n\n# this is a comment\n*.md:\n    config\n    ext .html\n    directorify\n    tags tags/*.tag\n    markdown\n    template page # yeah, this is a comment as well\n\nindex.md: blog/*.md\n    config\n    ext .html\n    inner-template\n    markdown\n    template page\n\n*.tag: blog/*.md\n    ext .html\n    directorify\n    template tag\n    markdown\n    template page\n```\n\nHere we have constants declaration (first three lines), a comment and then three\nrules. One for any markdown file, one specifically for index.md and one for\ngenerated tags.\n\nSpecific rules override generic matching rules, but logic is not exactly very\nsmart, and there is no real precedence defined, so if you have several matches\nfor a single file you could end up with any of them. Note that there is some\norder: exact path match, exact name match, glob path match, glob name\nmatch. NOTE: this may change in future.\n\nRules consist of path/match, list of dependencies (also paths and matches, the\nones listed after colon) and commands.\n\nEach command consists of a name of processor and (possibly) some\narguments. Arguments are separated by spaces.\n\nNote: if a file has no rules whatsoever, it will be copied to exactly same\nlocation at destination as it was in source without being read into memory. So\nheavy images etc shouldn't be a problem.\n\n### Constants\n\nThere are three configuration constants:\n\n- `SOURCE` - sources to read (relative to location of config)\n- `OUTPUT` - directory for output (relative to location of config)\n- `TEMPLATES` - list of files and/or directories (containing `*.tmpl` files),\nwhich will be parsed as Go templates. Each file can contain more than one\ntemplate (see [docs](https://golang.org/pkg/text/template/#hdr-Nested_template_definitions)\non that).\n\nYou can also use arbitrary names for constants to\n[access later](#site-interface) from templates - just use any other name\n(`AUTHOR` could be one).\n\nAll constants can also be accessed from the config itself, using\n`$(CONSTANT_NAME)` syntax, just like in `Makefile`.\n\n## Page Config\n\nPage config is only processed if you specify `config` processor for a page. It's\nformat is `name: value`, for example:\n\n```\ntitle: This is a page\ntags: test\ndate: 2013-01-05\n```\n\nParsed properties:\n\n- `title` - page title.\n- `tags` - list of tags, separated by `,`.\n- `date` - page date, could be used for blog. Accepts formats from bigger to\n  smaller (from `\"2006-01-02 15:04:05 -07\"` to `\"2006-01-02\"`)\n- `hide` - false if not specified or is one of `f`, `false`, `False`,\n  `FALSE`. True in other cases. Hides page from children and tag lists when true.\n\nYou can also define any other property you like, it's value will be treated as a\nstring and it's key is capitalized and put on the `.Other`\n[page property](#page-interface).\n\n## Processors\n\nYou can always check list of available processors with `gostatic --processors`.\n\n- `config` - reads config from content. Config should be in format \"name: value\"\n  and separated by four dashes on empty line (`----`) from content.\n\n- `ignore` - ignore file.\n\n- `rename <new-name>` - rename a file to `new-name`. Note this does not change\n  path to a file (you can use `..`, though, but be careful about platform\n  differences). If `new-name` contains `*`, then it'll be replaced with content\n  of `*` from path match. For example, with `blog/*.md: rename ../blog-*.html`\n  this will rename `blog/one.html` to `blog-one.html`.\n\n- `ext <.ext>` - change file extension to a given one (which should be prefixed\n  with a dot).\n\n- `datefilename` - rename a file from `whatever/2021-02-08-name.html` to\n  `whatever/name.html` and set the `page.Date` to `2021-02-08`.\n\n- `directorify` - rename a file from `whatever/name.html` to\n  `whatever/name/index.html`.\n\n- `markdown` - process content as Markdown.  \n  `markdown` without any arguments will not do any code-block highlighting.  \n  `markdown chroma=monokai` will use the [Chroma][chroma] highlighter to highlight code blocks, using the Monokai style, with inline CSS styles. (No .css file needed).  \n  You can see the styles at the [Chroma style previewer][chromaStyles1].  \n  The official list of styles is in the [Chroma repo here][chromaStyles2].\n\n[chroma]: https://github.com/alecthomas/chroma\n[chromaStyles1]: https://xyproto.github.io/splash/docs/\n[chromaStyles2]: https://github.com/alecthomas/chroma/tree/master/styles\n\n- `inner-template` - process content as Go template.\n\n- `template <name>` - pass page to a template named `<name>`.\n\n- `tags <path-pattern>` - create a virtual page for all tags of a current\n  page. This tag page has path formed by replacing `*` in `<path-pattern>` with\n  a tag name and has a tag as its `.Title` (use `{{ range .Site.Pages.WithTag\n  .Title }}...{{end}}` to get a list of tagged pages.\n\n- `relativize` - change all urls archored at `/` to be relative (i.e. add\n  appropriate amount of `../`) so that generated content can be deployed in a\n  subfolder of a site.\n\n- `external <command> <args...>` - call external command with content of a page\n  as stdin and using stdout as a new content of a page. Has a shortcut:\n  `:<command> <args...>` (`:` is replaced with `external `).\n\n- `paginate <n> <path-pattern>` - create a virtual page for each `n` of pages\n  (grouped by `path-pattern`, so you can paginate few groups of pages as a\n  single one). `path-pattern` has `*` replaced by an index of this virtual page\n  (1-based), and you can get a list of pages with `{{ range paginator\n  .}}...{{end}}` (see [paginator](#global-functions) function). Using `paginate`\n  with the same `path-pattern` on different types of pages will group them in\n  same paginated list (*request*: please open an\n  [issue](https://github.com/piranha/gostatic/issues/new) if you have an idea\n  how to phrase this better).\n\n- `jekyllify` - creating pages in jekyll style, for example, the page\n  `2018-02-02-name.md` will be converted to `/2018/02/02/name.md`.\n\n- `yaml` - read the configuration for the page using yaml format (like jekyll).\n\n## Template API Reference\n\nTemplating is provided using\n[Go templates](https://golang.org/pkg/text/template/). See link for documentation\non syntax.\n\nEach template is executed in context of a [page](#page-interface). This means it\nhas certain properties and methods it can output or call to generate content,\ni.e. `{{ .Content }}` will output page content in place.\n\n### Global functions\n\nGo template system provides some convenient\n[functions](https://golang.org/pkg/text/template/#hdr-Functions), and gostatic\nexpands on that a bit:\n\n- `absurl <base> <url>` - given an url and a base will join them to something\n  sane: leave the `<url>` in place if it's absolute, or resolve it within\n  `<base>` if it's not.\n\n- `changed <name> <value>` - checks if `<value>` has changed since previous call\n  with the same name. Storage used for checking is global over the whole run of\n  gostatic, so choose unique names for different places.\n\n- `cut <begin> <end> <value>` - cut partial content from `<value>`, delimited\n  by regular expressions `<begin>` and `<end>`.\n\n- `hash <value>` - return 32-bit hash of a given value.\n\n- `version <page> <path>` - return relative URL to a page with resulting path\n  `<path>` with `?v=<32-bit hash>` appended (use to override cache settings for\n  static files).\n\n- `truncate <length> <value>` - truncate string to given length (if it's\n  longer).\n\n- `strip_html <value>` - remove all HTML tags from string.\n\n- `strip_newlines <value>` - remove all line breaks and newlines from string.\n\n- `trim <value>` - trim all whitespace ([strings.TrimSpace](https://golang.org/pkg/strings/#TrimSpace)).\n\n- `replace <old> <new> <value>` - replace all occurrences of `old` with `new` in\n  `value`.\n\n- `replacen <old> <new> <n> <value>` - same as above, but only `n` times.\n\n- `replacere <pattern> <replacement> <value>` - replace text in `value`\n  according to [regexp](https://golang.org/pkg/regexp/syntax/) `pattern` and\n  `replacement`.\n\n- `split <separator> <value>` - split string by separator, generating an array\n  (you can use `range` with result of this function).\n\n- `contains <needle> <value>` - check if a string `value` contains `needle`.\n\n- `starts <needle> <value>` - check if a string `value` starts with `needle`.\n\n- `ends <needle> <value>` - check if a string `value` ends with `needle`.\n\n- `matches <pattern> <value>` - check if a\n  [regexp](https://golang.org/pkg/regexp/syntax/) `pattern` matches string `value`.\n\n- `refind <pattern> <value>` - apply regexp `pattern` to a string `value` and\n  return first submatch (the thing in parentheses), if any, or a whole matched\n  string.\n\n- `markdown <value>` - convert a string (`value`) from Markdown to HTML.\n\n- `paginator <page>` - get a [paginator](#paginator-interface) object for\n  current page (only works on pages created by `paginate` processor).\n\n- `exec <cmd> [<arg1> <arg2> ....]` - exec a command with (optional) arguments.\n\n- `exectext <cmd> [<arg1> <arg2> ....] <text>` - exec a command with (optional)\n  arguments and last argument (presumably some text) bound to command's\n  stdin. If you need to do something hard, use it like `{{ exectext \"sh\" \"-c\"\n  \"pipe | line\" .Content }}`.\n\n- `excerpt <text> <maxWordCount>` - Gets an excerpt from the given text, to a\n  maximum of `maxWordCount` words. When the text is shortened, it will produce\n  an `[...]` string, denoting there's more. For example, `The quick brown fox`\n  with `maxWordCount` of 2 will result in `The quick [...]`.\n\n- `even <n>` - tests if `n` is divisible by 2.\n\n- `odd <n>` - tests if `n` is not divisible by 2.\n\n- `count <text>` - returns a number of words in text.\n\n- `reading_time <text>` - returns reading time based on [average reading speed\n  being 200](https://help.medium.com/hc/en-us/articles/214991667-Read-time).\n\n- `some <x> <x> <x>....` - returns first non-nil value as a string\n\n- `dir <path>` - returns all but the last element of a path (same as [filepath.Dir](https://golang.org/pkg/path/filepath/#Dir))\n\n- `base <path>` - returns the last element of a path (same as [filepath.Base](https://golang.org/pkg/path/filepath/#Base))\n\n- `abcsort <pages>` - returns the pages sorted in alphabetical order of their .Name\n\n### Page interface\n\n- `.Site` - global [site object](#site-interface).\n- `.Rule` - rule object, matched by page.\n- `.Pattern` - pattern, which matched this page.\n- `.Deps` - list of pages, which are dependencies for this page.\n- `.Next` - next page in a list of all site pages (use specific PageSlice's\n  `.Next` method if you need more precise matching).\n- `.Prev` - previous page in a list of all site pages (use specific PageSlice's\n  `.Prev` method if you need more precise matching).\n\n----\n\n- `.Source` - relative path to page source.\n- `.FullPath` - full path to page source.\n- `.Path` - relative path to page destination.\n- `.OutputPath` - full path to page destination.\n- `.ModTime` - page last modification time.\n\n----\n\n- `.Title` - page title.\n- `.Tags` - list of page tags.\n- `.Date` - page date, as defined in [page config](#page-config).\n- `.Hide` - boolean if page is going to be absent from `{{ .Children }}` or `{{\n  .WithTag }}` lists.\n- `.Other` - map of all other properties (capitalized) from\n  [page config](#page-config), like `{{ .Other.Author }}`.\n\n----\n\n- `.Raw` - page content after preprocessors (i.e. after `config` has stripped it\n  part), that was originally read from the disk.\n- `.Content` - page content.\n- `.Url` - page url (i.e. `.Path`, but with `index.html` stripped from the end).\n- `.Name` - page name (i.e. last part of `.Url`).\n- `.UrlTo <other-page>` - relative url from current to some other page.\n- `.Rel <url>` - relative url to given absolute (anchored at `/`) url.\n- `.Is <url>` - checks if page is at passed url (or path) - use it for marking\n  active elements in menu, for example.\n- `.UrlMatches <pattern>` - checks if page url matches regular expression\n  `<pattern>`.\n- `.Has <field> <value>` - backend for `.Where` and `.WhereNot`, checks if field equals to value, or:\n   - `\"Url\"` - calls `UrlMatches`\n   - `\"Tag\"` - checks tag is present in `.Tags`\n   - `\"Source\"` - [matches](https://golang.org/pkg/path/#Match) source path for `value`.\n\n### Paginator interface\n\n- `.Number` - number of paginator page, first is 1\n- `.PathPattern` - whatever was passed as `path-pattern` to `paginate`\n  (processor)[#processors]\n- `.Page` - paginator's own [page](#page-interface)\n- `.Pages` - [list of pages](#page-list-interface)\n- `.Prev` - previous paginator object (if current is first, then `nil`)\n- `.Next` - next paginator object (if current is last, then `nil`)\n\n### Page list interface\n\n- `.Get <n>` - [page](#page-interface) number `<n>`.\n- `.First` - first page.\n- `.Last` - last page.\n- `.Len` - length of page list.\n- `.Prev <page>` - return page with earlier date than given. Returns nil if no\n  earlier pages exist or page is not in page list.\n- `.Next <page>` - return page with later date than given. Returns nil if no\n  later pages exist or page is not in page list.\n- `.Slice <from> <to>` - return pages from `from` to `to` (i.e. from 0 to 10).\n\n----\n\n- `.Children <prefix>` - list of pages, nested under `<prefix>`.\n- `.WithTag <tag-name>` - list of pages, tagged with `<tag-name>`.\n- `.Reverse` - list of pages, sorted in reverse order.\n\n----\n\n- `.BySource <path>` - finds a page with source path `<path>`.\n- `.ByPath <path>` - finds a page with resulting path `<path>`.\n- `.GlobSource <pattern>` - list of pages, [matching](https://golang.org/pkg/path/#Match) source path `<pattern>`.\n- `.Where <field> <value>` - list of pages, which return `true` for `.Has <field> <value>`\n- `.WhereNot <field> <value>` - list of pages, which return `false` for `.Has <field> <value>`\n\n### Site interface\n\n- `.Pages` - [list of all pages](#page-list-interface).\n- `.Source` - path to site source.\n- `.Output` - path to site destination.\n- `.Templates` - list of template files used for the site.\n- `.Other` - any other properties (capitalized) defined in site config.\n\n## Extensibility\n\nObviously, the easiest way to extend gostatic's functionality is to use\n`external` [processor](#processors). It makes you able to process files in the\nway you want, but is more or less limited to that. There is no API right now to\ncreate pages on the fly (like `tags` processor does) using this method, for\nexample.\n\nBut `gostatic` itself is a\n[library](https://github.com/piranha/gostatic/tree/master/lib), and you can\nwrite your own static site generator using this library. See\n[gostatic.go](https://github.com/piranha/gostatic/blob/master/gostatic.go) for\nan example of one."
}
