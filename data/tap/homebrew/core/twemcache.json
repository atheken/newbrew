{
  "name": "twemcache",
  "full_name": "twemcache",
  "tap": "homebrew/core",
  "oldname": null,
  "oldnames": [],
  "aliases": [],
  "versioned_formulae": [],
  "desc": "Twitter fork of memcached",
  "license": "BSD-3-Clause",
  "homepage": "https://github.com/twitter/twemcache",
  "versions": {
    "stable": "2.6.3",
    "head": "HEAD",
    "bottle": true
  },
  "urls": {
    "stable": {
      "url": "https://github.com/twitter/twemcache/archive/v2.6.3.tar.gz",
      "tag": null,
      "revision": null,
      "checksum": "ab05927f7d930b7935790450172187afedca742ee7963d5db1e62164e7f4c92b"
    },
    "head": {
      "url": "https://github.com/twitter/twemcache.git",
      "branch": "master"
    }
  },
  "revision": 1,
  "version_scheme": 0,
  "bottle": {
    "stable": {
      "rebuild": 0,
      "root_url": "https://ghcr.io/v2/homebrew/core",
      "files": {
        "arm64_ventura": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:ee379e8fe4efe1fdfb0fe05def379e9370e363e623f2616c25801860bd3da0bb",
          "sha256": "ee379e8fe4efe1fdfb0fe05def379e9370e363e623f2616c25801860bd3da0bb"
        },
        "arm64_monterey": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:447d0a20188883670b99d5923ffeb3917af838ae2db81aba590fba157719aad0",
          "sha256": "447d0a20188883670b99d5923ffeb3917af838ae2db81aba590fba157719aad0"
        },
        "arm64_big_sur": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:9fc117b9ed7036aa0a69fb94ee4c66e768f663bfd41cf4e626839f003ed5b9cd",
          "sha256": "9fc117b9ed7036aa0a69fb94ee4c66e768f663bfd41cf4e626839f003ed5b9cd"
        },
        "ventura": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:7782623784413e6022fa708a89c64bc1959e9275c8d57c89c3c4c0ce3c35eeba",
          "sha256": "7782623784413e6022fa708a89c64bc1959e9275c8d57c89c3c4c0ce3c35eeba"
        },
        "monterey": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:dd8caffebfc00bdd3667db78cb74ff389025ed39be0ce86da7e9f4a1b373647b",
          "sha256": "dd8caffebfc00bdd3667db78cb74ff389025ed39be0ce86da7e9f4a1b373647b"
        },
        "big_sur": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:125878f0cdb71a5ac116ddcdfc139fd43d8ca2415e450c78bb25ff20cf65132e",
          "sha256": "125878f0cdb71a5ac116ddcdfc139fd43d8ca2415e450c78bb25ff20cf65132e"
        },
        "catalina": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:64238f0d8c99fad48b6d3f780f2e42557caa316e807a3a411fbeab3a649fc0c3",
          "sha256": "64238f0d8c99fad48b6d3f780f2e42557caa316e807a3a411fbeab3a649fc0c3"
        },
        "mojave": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:2c7fd2ce03cc16859264882f478137de35ece42a26ad9b10f23d668ddc1883d4",
          "sha256": "2c7fd2ce03cc16859264882f478137de35ece42a26ad9b10f23d668ddc1883d4"
        },
        "high_sierra": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:9cc173642f9e53b723321a3013f2327b8a712c528c53ac5bd9fd2b9420244fcb",
          "sha256": "9cc173642f9e53b723321a3013f2327b8a712c528c53ac5bd9fd2b9420244fcb"
        },
        "sierra": {
          "cellar": ":any",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:ec7e5d41f887db3a41d89eadb64d16119a2d86427afd45de92e7a8ca55ce7ef2",
          "sha256": "ec7e5d41f887db3a41d89eadb64d16119a2d86427afd45de92e7a8ca55ce7ef2"
        },
        "x86_64_linux": {
          "cellar": ":any_skip_relocation",
          "url": "https://ghcr.io/v2/homebrew/core/twemcache/blobs/sha256:ebed07a9f27fb7c462c9e313dc51dcfb326804fd7715119a32151ee48b4e815d",
          "sha256": "ebed07a9f27fb7c462c9e313dc51dcfb326804fd7715119a32151ee48b4e815d"
        }
      }
    }
  },
  "keg_only": false,
  "keg_only_reason": null,
  "options": [],
  "build_dependencies": [
    "autoconf",
    "automake"
  ],
  "dependencies": [
    "libevent"
  ],
  "test_dependencies": [],
  "recommended_dependencies": [],
  "optional_dependencies": [],
  "uses_from_macos": [],
  "uses_from_macos_bounds": [],
  "requirements": [],
  "conflicts_with": [],
  "conflicts_with_reasons": [],
  "link_overwrite": [],
  "caveats": null,
  "installed": [],
  "linked_keg": null,
  "pinned": false,
  "outdated": false,
  "deprecated": false,
  "deprecation_date": null,
  "deprecation_reason": null,
  "disabled": true,
  "disable_date": "2022-12-30",
  "disable_reason": "repo_archived",
  "post_install_defined": false,
  "service": null,
  "tap_git_head": "982192bf852eebace6c92c1e792d894990b8620e",
  "ruby_source_path": "Formula/twemcache.rb",
  "ruby_source_checksum": {
    "sha256": "31e1d67e1fd4602c010bd5b28b6663f11d8d37016feeda888b35cc6d8a5545fa"
  },
  "date_added": "2012-12-14T10:18:37-08:00",
  "readme": "# Twemcache: Twitter Memcached \n\n[![status: retired](https://opensource.twitter.dev/status/retired.svg)](https://opensource.twitter.dev/status/#retired)\n[![Build Status](https://secure.travis-ci.org/twitter/twemcache.png)](http://travis-ci.org/twitter/twemcache)\n\nTwemcache is no longer actively maintained.  See [twitter/pelikan](https://github.com/twitter/pelikan) for our latest caching work.\n\nTwemcache (pronounced \"tw-em-cache\") is the Twitter Memcached. Twemcache is based on a fork of [Memcached](http://memcached.org/) v.1.4.4 that has been heavily modified to make to suitable for the large scale production environment at Twitter.\n\n## Build\n\nTo build twemcache from distribution tarball:\n\n    $ ./configure\n    $ make\n    $ sudo make install\n\nTo build twemcache from distribution tarball with a non-standard path to [libevent](http://libevent.org) install:\n\n    $ ./configure --with-libevent=<path>\n    $ make\n    $ sudo make install\n\nTo build twemcache from distribution tarball with a statically linked libevent:\n\n    $ ./configure --enable-static=libevent\n    $ make\n    $ sudo make install\n\nTo build twemcache from distribution tarball in _debug mode_ with _assertion panics enabled_:\n\n    $ CFLAGS=\"-ggdb3 -O0\" ./configure --enable-debug=full\n    $ make\n    $ sudo make install\n\nTo build twemcache from source with _debug logs enabled_ and _assertions disabled_:\n\n    $ git clone git@github.com:twitter/twemcache.git\n    $ cd twemcache\n    $ autoreconf -fvi\n    $ ./configure --enable-debug=log\n    $ make V=1\n    $ src/twemcache -h\n\n## Help\n\n    Usage: twemcache [-?hVCELdkrDS] [-o output file] [-v verbosity level]\n               [-A stats aggr interval]\n               [-t threads] [-P pid file] [-u user]\n               [-x command logging entry] [-X command logging file]\n               [-R max requests] [-c max conns] [-b backlog] [-p port] [-U udp port]\n               [-l interface] [-s unix path] [-a access mask] [-M eviction strategy]\n               [-f factor] [-m max memory] [-n min item chunk size] [-I slab size]\n               [-z slab profile]\n\n    Options:\n      -h, --help                  : this help\n      -V, --version               : show version and exit\n      -E, --prealloc              : preallocate memory for all slabs\n      -L, --use-large-pages       : use large pages if available\n      -k, --lock-pages            : lock all pages and preallocate slab memory\n      -d, --daemonize             : run as a daemon\n      -r, --maximize-core-limit   : maximize core file limit\n      -C, --disable-cas           : disable use of cas\n      -D, --describe-stats        : print stats description and exit\n      -S, --show-sizes            : print slab and item struct sizes and exit\n      -o, --output=S              : set the logging file (default: stderr)\n      -v, --verbosity=N           : set the logging level (default: 5, min: 0, max: 11)\n      -A, --stats-aggr-interval=N : set the stats aggregation interval in usec (default: 100000 usec)\n      -t, --threads=N             : set number of threads to use (default: 4)\n      -P, --pidfile=S             : set the pid file (default: off)\n      -u, --user=S                : set user identity when run as root (default: off)\n      -x, --klog-entry=N          : set the command logging entry number per thread (default: 512)\n      -X, --klog-file=S           : set the command logging file (default: off)\n      -R, --max-requests=N        : set the maximum number of requests per event (default: 20)\n      -c, --max-conns=N           : set the maximum simultaneous connections (default: 1024)\n      -b, --backlog=N             : set the backlog queue limit (default 1024)\n      -p, --port=N                : set the tcp port to listen on (default: 11211)\n      -U, --udp-port=N            : set the udp port to listen on (default: 11211)\n      -l, --interface=S           : set the interface to listen on (default: all)\n      -s, --unix-path=S           : set the unix socket path to listen on (default: off)\n      -a, --access-mask=O         : set the access mask for unix socket in octal (default: 0700)\n      -M, --eviction-strategy=N   : set the eviction strategy on OOM (default: 2, random)\n      -f, --factor=D              : set the growth factor of slab item sizes (default: 1.25)\n      -m, --max-memory=N          : set the maximum memory to use for all items in MB (default: 64 MB)\n      -n, --min-item-chunk-size=N : set the minimum item chunk size in bytes (default: 72 bytes)\n      -I, --slab-size=N           : set slab size in bytes (default: 1048576 bytes)\n      -z, --slab-profile=S        : set the profile of slab item chunk sizes (default: off)\n\n## Features\n\n* Supports the complete memcached ASCII protocol.\n* Supports tcp, udp and unix domain sockets.\n* Observability through lock-less stats collection and klogger.\n* Pluggable eviction strategies.\n* Easy debuggability through assertions and logging.\n\n## Slabs and Items\n\nMemory in twemcache is organized into fixed sized slabs whose size is configured using the -I or --slab-size=N command-line argument. Every slab is carved into a collection of contiguous, equal size items. All slabs that are carved into items of a given size belong to a given slabclass. The number of slabclasses and the size of items they serve can be configured either from a geometric sequence with the inital item size set using -n or --min-item-chunk-size=N argument and growth ratio set using -f or --factor=D argument, or from a profile string set using -z or --slab-profile=S argument.\n\n## Eviction\n\nEviction is triggered when a cache reaches full memory capacity. This happens when all cached items are unexpired and there is no space available to store newer items. Twemcache supports the following eviction strategies, configured using the -M or --eviction-strategy=N command-line argument:\n\n* No eviction (0) - don't evict, respond with server error reply.\n* Item LRU eviction (1) - evict only existing items in the same slab class, least recently updated first; essentially a per-slabclass LRU eviction.\n* Random eviction (2) - evict all items from a randomly chosen slab.\n* Slab LRA eviction (4) - choose the least recently accessed slab, and evict all items from it to reuse the slab.\n* Slab LRC eviction (8) - choose the least recently created slab, and evict all items from it to reuse the slab. Eviction ignores freeq & lruq to make sure the eviction follows the timestamp closely. Recommended if cache is updated on the write path.\n\nEviction strategies can be *stacked*, in the order of higher to lower bit. For example, `-M 5` means that if slab LRA eviciton fails, Twemcache will try item LRU eviction.\n\n## Observability\n\n### Stats\n\nStats are the primary form of observability in twemcache. Stats collection in twemcache is lock-less in a sense that each worker thread only updates its thread-local metrics, and a background aggregator thread collects metrics from all threads periodically, holding only one thread-local lock at a time. Once aggregated, stats polling comes for free. There is a slight trade-off between how up-to-date stats are and how much burden stats collection puts on the system, which can be controlled by the aggregation interval -A or --stats-aggr-interval=N command-line argument. By default, the aggregation interval is set to 100 msec. You can set the aggregation interval at run time using `config aggregate <num>\\r\\n` command. Stats collection can be disabled at run time by passing a negative aggregation interval or at build time through the --disable-stats configure option.\n\nMetrics exposed by twemcache are of three types - timestamp, counter and gauge and are collected both at the global level and per slab level. You can read about the description of all stats exposed by twemcache using the -D or --describe-stats command-line argument.\n\nThe following commands can be used to query stats from a running twemcache\n* `stats\\r\\n`\n* `stats settings\\r\\n`\n* `stats slabs\\r\\n`\n* `stats sizes\\r\\n`\n* `stats cachedump <id> <limit>\\r\\n`\n\n### Klogger (Command Logger)\n\nCommand logger allows users to capture the details of every incoming request. Each line of the command log gives precise information on the client, the time when a request was received, the command header including the command, key, flags and data length, a return code, and reply message length. Few example klog lines look as follows:\n\n    172.25.135.205:55438 - [09/Jul/2012:18:15:45 -0700] \"set foo 0 0 3\" 1 6\n    172.25.135.205:55438 - [09/Jul/2012:18:15:46 -0700] \"get foo\" 0 14\n    172.25.135.205:55438 - [09/Jul/2012:18:15:57 -0700] \"incr num 1\" 3 9\n    172.25.135.205:55438 - [09/Jul/2012:18:16:05 -0700] \"set num 0 0 1\" 1 6\n    172.25.135.205:55438 - [09/Jul/2012:18:16:09 -0700] \"incr num 1\" 0 1\n    172.25.135.205:55438 - [09/Jul/2012:18:16:13 -0700] \"get num\" 0 12\n\nThe command logger supports lockless read/write into ring buffers, whose size can be configured with -x or --klog-entry=N command-line argument. Each worker thread logs to a thread-local buffer as they process incoming queries, and a background thread asynchronously dumps buffer contents to a file configured with -X or --klog-file=S command-line argument.\n\nSince this feature has the capability of generating hundreds of MBs of data per minute, the use must be planned carefully. An enabled klog moduled can be started or stopped by sending `config klog run start\\r\\n` and `config klog run stop\\r\\n` respectively. To control the speed of log generation, the command logger also supports sampling. Sample rate can be set over with `config klog sampling <num>\\r\\n` command, which samples one of num commands.\n\n### Logging\n\nLogging in twemcache is only available when it is built with logging enabled (--enable-debug=[full|yes|log]). By default logs are written to stderr. Twemcache can also be configured to write logs to a specific file through the -o or --output=S command-line argument.\n\nOn a running twemcache, we can turn log levels up and down by sending it SIGTTIN and SIGTTOU signals respectively and reopen log files by sending it SIGHUP signal. Logging levels can be set to a specific value using the `verbosity <num>\\r\\n` command.\n\n## Issues and Support\n\nHave a bug? Please create an issue here on GitHub!\n\nhttps://github.com/twitter/twemcache/issues\n\n## Versioning\n\nFor transparency and insight into our release cycle, releases are be numbered with the [semantic versioning](http://semver.org/) format: `<major>.<minor>.<patch>` and constructed with the following guidelines:\n\n* Breaking backwards compatibility bumps the major\n* New additions without breaking backwards compatibility bumps the minor\n* Bug fixes and misc changes bump the patch\n\n## Other Work\n\n* [twemproxy](https://github.com/twitter/twemproxy) - a fast, light-weight proxy for memcached.\n* [twemperf](https://github.com/twitter/twemperf) - a tool for measuring memcached server performance.\n* [twctop.rb](https://github.com/twitter/twemcache/blob/master/scripts/twctop.rb) - a tool like top for monitoring a cluster of twemcache servers.\n\n## Contributors\n\n* Manju Rajashekhar ([@manju](https://twitter.com/manju))\n* Yao Yue ([@thinkingfish](https://twitter.com/thinkingfish))\n\n## License\n\nCopyright 2003, Danga Interactive, Inc.\n\nCopyright 2012 Twitter, Inc.\n\nLicensed under the New BSD License, see the LICENSE file."
}
